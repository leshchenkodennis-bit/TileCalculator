<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<meta name="theme-color" content="#0f0f1a">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="ПлиткаCalc">
<link rel="manifest" href="manifest.json">
<title>Калькулятор плиточных работ</title>
<link rel="icon" type="image/png" href="data:image/png;base64,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Mjpn1sy3Vr8j3bbWtpbjjz+ut7f3iCMO23PPqVu2bkfEhQcfOGHihLVr17319js93d3z5s3N5XKvvbbyxptueeihR4aHR8Z3dy1YcIDjOMtffuXoo47898u+/t76jS+99HJLS3b69AVCiNdXrMyN5qdNmTw8kmtva+np6Xnt9RUd7e1XXf7vL7z04usrVxQLpV0isAoMEKJfLRMiNPn2LyASakHS1DCIILh4b/2GkdyIwdjQ8Mibb6/eY8qU73/32z//5U2juZxhGIV84aAF82688ecD/QPjx4//8le/ZieS1117VT6fb2tvP3bxSYLjaH708EULZ0zf62v/9s3vf+/bxx57zE9++ovrf3jdB88+Y8eOgR07dlx+5TW33/pfruskEskrrrx23vw5Z595+kc/9qlbbv5FwrYSieRdd91z1plncM5v+OF3L7v8qsMXLTzttKUJ237jzdXnffiCy77xtZkz97Utq6dn/I033wYEqXTqqCOP+M+f3PCJT15sGA0dslqHFCRA1WKrUp24IIXKWdVw4eNBroJEIpFIJADAMFgykUDAbDabSvkV5l/4/CUk6Cv/ellf346vXfplBBg3ruuPj/75Ixdc6LqcGUa55Jy6dMnQ4PCDv3141ao3Tj9tqWEYRx11RL5QvPTrl11w4cVTpkyePHnSQ4/84dzzPvaXZY9NmNBj2dZee+6x94zpj/75Lx++4BM333bHbXf+yjCML37la08//T+33HrnRy/45PU//o/58+bMmzfPMDBhW+ec99HnX3jxtKUn33rbHcPDw8see/KSz33Jtm0MhCWaBwIghkjAvLQYAxLVu2uaymockiVaoAPInAvuOGUikk4dY9jVNY4x/PqlXx4aGlz+8t9bslnO+Z2/ufv111cgous6nZ3tRyxa2Nbe+uwzj82etf/sWTNnzdrvc1/86vr1G+7+9e3fv+6q5cuX/+j6/7jgI+fffdftBx44P5fLJxPJ519a/p3rfnjWGWf85s5b582ds2nzViHEm2+vKZedb3z90u9dd83iY49zOWeMWYb17rvrnnv+xcHBQYfz/p07heDbe7evXbtW6tsYZ6EhUPzrSRCprhnF1VDqYstqVJYCSP/o3iPEBgDGmGXZBAyZkUylLctGgyHi1GlT1m/YkE6nf/aLX17/45/e+at7ZKius6M9nU5LW23hwoOnTpt2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">
<link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&display=swap" rel="stylesheet" crossorigin="anonymous">
<style>
:root{--bg:#0f0f1a;--card:#1a1a2e;--accent:#f59e0b;--glow:rgba(245,158,11,.15);--text:#e2e8f0;--dim:#8b95a5;--border:#2a2a40;--ok:#10b981;--err:#ef4444;--surf:#16162a;--link:#60a5fa}
*{box-sizing:border-box;margin:0;padding:0}html,body{min-height:100vh;overflow-x:hidden}
body{background:radial-gradient(ellipse at top,#1a1a3e 0%,var(--bg) 60%);font-family:'Manrope','Segoe UI',system-ui,sans-serif;color:var(--text);padding:16px 14px 80px;-webkit-font-smoothing:antialiased}
::selection{background:var(--accent);color:var(--bg)}
input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}
input[type=number]{-moz-appearance:textfield}
a{color:var(--link);text-decoration:none}a:hover{text-decoration:underline}
@keyframes fi{from{opacity:0;transform:translateY(14px)}to{opacity:1;transform:translateY(0)}}
@keyframes spin{to{transform:rotate(360deg)}}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.5}}
.app{max-width:460px;margin:0 auto}
.prog{display:flex;gap:8px;margin-bottom:24px}.prog b{flex:1;height:4px;border-radius:4px;background:var(--border);transition:.4s}.prog b.on{background:linear-gradient(90deg,var(--accent),#fbbf24);box-shadow:0 0 8px var(--glow)}
.scr{display:none;animation:fi .35s ease}.scr.on{display:block}
.inp{width:100%;padding:13px 16px;background:var(--surf);border:1px solid var(--border);border-radius:11px;color:var(--text);font-size:15px;font-family:inherit;outline:none;transition:.25s}.inp:focus{border-color:var(--accent);box-shadow:0 0 0 3px var(--glow)}
.inp-s{padding:7px 10px;background:var(--surf);border:1px solid var(--border);border-radius:8px;color:var(--text);font-size:13px;font-family:inherit;outline:none;text-align:right;transition:.25s;width:80px}.inp-s:focus{border-color:var(--accent);box-shadow:0 0 0 3px var(--glow)}
.bt{width:100%;padding:15px;border:none;border-radius:13px;font-size:16px;font-weight:700;cursor:pointer;font-family:inherit;transition:.2s}
.bt1{background:linear-gradient(135deg,var(--accent),#d97706);color:var(--bg)}.bt1:active{transform:scale(.98)}
.bt2{background:transparent;color:var(--dim);border:1px solid var(--border)}
.bt-s{width:auto;padding:7px 14px;border-radius:9px;font-size:12px;font-weight:600}
.sec{background:var(--card);border-radius:15px;border:1px solid var(--border);overflow:hidden;margin-bottom:14px}
.sec-h{padding:13px 18px;border-bottom:1px solid var(--border);font-weight:700;font-size:14px;display:flex;justify-content:space-between;align-items:center}
.sec-r{padding:12px 18px;border-bottom:1px solid var(--border);font-size:13px}.sec-r:last-child{border-bottom:none}
.mo{display:none;position:fixed;inset:0;background:rgba(0,0,0,.75);align-items:center;justify-content:center;z-index:1000;backdrop-filter:blur(5px)}.mo.open{display:flex}
.mo-b{background:var(--card);border:1px solid var(--border);border-radius:18px;padding:24px 22px;width:92%;max-width:420px;max-height:88vh;overflow-y:auto}
.tc{padding:26px 22px;background:linear-gradient(145deg,#2a1f0a,#1a1a2e);border:1px solid rgba(245,158,11,.3);border-radius:16px;text-align:center;margin-bottom:22px;position:relative;overflow:hidden}
.tc::before{content:'';position:absolute;inset:0;background:radial-gradient(circle at 50% 0%,rgba(245,158,11,.12),transparent 70%);pointer-events:none}
.lnk{display:inline-flex;align-items:center;gap:4px;font-size:11px;margin-top:4px;padding:3px 9px;background:rgba(96,165,250,.08);border-radius:5px;border:1px solid rgba(96,165,250,.15);color:var(--link);transition:.2s;max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.lnk:hover{background:rgba(96,165,250,.15)}
.spinner{width:14px;height:14px;border:2px solid var(--accent);border-top-color:transparent;border-radius:50%;animation:spin .7s linear infinite;display:inline-block}
.geo{padding:16px 20px;border-radius:13px;margin-bottom:22px;background:linear-gradient(135deg,var(--glow),transparent);border:1px solid rgba(245,158,11,.2)}
h1{font-size:24px;font-weight:800}
.hide{display:none!important}
.wi{padding:12px 16px;background:var(--card);border:1px solid var(--border);border-radius:12px;margin-bottom:6px;transition:.2s}.wi.on{border-color:var(--accent);background:var(--glow)}
.ck{width:26px;height:26px;border-radius:7px;flex-shrink:0;border:2px solid var(--border);display:flex;align-items:center;justify-content:center;transition:.2s;font-size:13px;font-weight:700;color:var(--bg)}
.wi.on .ck{border-color:var(--accent);background:var(--accent)}
.mi{padding:12px 16px;background:var(--card);border:1px solid var(--border);border-radius:12px;margin-bottom:6px}.mi.on{border-color:var(--ok);background:rgba(16,185,129,.06)}
.mi .ck{border-color:var(--border)}.mi.on .ck{border-color:var(--ok);background:var(--ok)}
.ml{margin-top:6px;padding-left:36px;display:flex;flex-direction:column;gap:4px}
.ml-r{display:flex;align-items:center;gap:6px;font-size:11px;padding:5px 8px;background:rgba(96,165,250,.04);border:1px solid rgba(96,165,250,.1);border-radius:6px}
.ml-r a{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:var(--link)}
.ml-r .p{color:var(--ok);font-weight:600;white-space:nowrap}
.ml-r .old{color:var(--dim);font-size:10px;text-decoration:line-through;white-space:nowrap}
.ml-r .x{background:none;border:none;color:var(--err);cursor:pointer;font-size:15px;padding:0 2px;line-height:1}
.ml-r .ed{background:none;border:none;color:var(--link);cursor:pointer;font-size:12px;padding:0 2px;line-height:1}
.ml-add{display:flex;flex-direction:column;gap:4px;margin-top:6px;padding:0 4px}
.ml-add input{width:100%;padding:7px 10px;background:var(--surf);border:1px solid var(--border);border-radius:7px;color:var(--text);font-size:12px;font-family:inherit;outline:none;box-sizing:border-box}
.ml-add input:focus{border-color:var(--link)}
.ml-add button{padding:6px 12px;border:none;border-radius:7px;background:var(--link);color:#fff;font-size:12px;font-weight:700;cursor:pointer;font-family:inherit;white-space:nowrap;flex-shrink:0}
.ml-add button:disabled{opacity:.5;cursor:wait}
.ml-add .ml-row{display:flex;gap:4px}

/* DB Panel */
.db-panel{background:var(--card);border:1px solid var(--border);border-radius:14px;margin-bottom:14px;overflow:hidden}
.db-header{padding:12px 16px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid var(--border);cursor:pointer}
.db-header h3{font-size:14px;font-weight:700;display:flex;align-items:center;gap:6px}
.db-body{padding:14px 16px}
.db-actions{display:flex;gap:6px;flex-wrap:wrap;margin-bottom:12px}
.db-btn{padding:7px 12px;border:1px solid var(--border);border-radius:8px;background:var(--surf);color:var(--text);font-size:11px;font-weight:600;cursor:pointer;font-family:inherit;display:inline-flex;align-items:center;gap:4px;transition:.2s}
.db-btn:hover{border-color:var(--accent);background:var(--glow)}
.db-btn.danger{color:var(--err);border-color:rgba(239,68,68,.3)}
.db-btn.danger:hover{background:rgba(239,68,68,.08)}
.db-stat{font-size:11px;color:var(--dim);padding:8px 0}
.db-stat b{color:var(--accent)}

/* Price update badge */
.price-badge{display:inline-flex;align-items:center;gap:3px;font-size:9px;padding:2px 6px;border-radius:4px;font-weight:600}
.price-badge.fresh{background:rgba(16,185,129,.12);color:var(--ok);border:1px solid rgba(16,185,129,.2)}
.price-badge.stale{background:rgba(245,158,11,.12);color:var(--accent);border:1px solid rgba(245,158,11,.2)}
.price-badge.old{background:rgba(239,68,68,.12);color:var(--err);border:1px solid rgba(239,68,68,.2)}

/* Refresh all button */
.refresh-all{display:flex;align-items:center;gap:6px;padding:10px 16px;background:linear-gradient(135deg,rgba(96,165,250,.1),rgba(96,165,250,.05));border:1px solid rgba(96,165,250,.2);border-radius:10px;margin-bottom:14px;cursor:pointer;transition:.2s;width:100%;font-family:inherit;color:var(--link);font-size:13px;font-weight:600}
.refresh-all:hover{background:rgba(96,165,250,.15);border-color:rgba(96,165,250,.3)}
.refresh-all:disabled{opacity:.5;cursor:wait}

/* History */
.hi-card{padding:12px 14px;background:var(--card);border:1px solid var(--border);border-radius:11px;margin-bottom:8px;cursor:pointer;transition:.2s}
.hi-card:hover{border-color:var(--accent);background:var(--glow)}
.hi-card .hi-title{font-weight:700;font-size:14px}
.hi-card .hi-sub{font-size:11px;color:var(--dim);margin-top:3px}
.hi-card .hi-price{color:var(--accent);font-weight:800;font-size:16px;margin-top:4px}
.hi-actions{display:flex;gap:6px;margin-top:6px}
.hi-actions button{padding:5px 10px;border-radius:7px;font-size:11px;font-weight:600;cursor:pointer;font-family:inherit;border:1px solid var(--border);background:var(--surf);color:var(--text);transition:.2s}
.hi-actions button:hover{border-color:var(--accent)}
.hi-actions button.del{color:var(--err);border-color:rgba(239,68,68,.3)}
.ex-menu{position:fixed;z-index:1000;background:var(--card);border:1px solid var(--border);border-radius:10px;padding:6px;min-width:180px;box-shadow:0 8px 24px rgba(0,0,0,.5)}
.ex-menu button{display:block;width:100%;text-align:left;padding:11px 14px;border:none;background:none;color:var(--text);font-size:14px;font-weight:600;font-family:inherit;border-radius:7px;cursor:pointer;white-space:nowrap}
.ex-menu button:hover,.ex-menu button:active{background:var(--surf)}
</style>
</head>
<body>
<div class="app">
<div class="prog"><b class="on" id="p1"></b><b id="p2"></b><b id="p3"></b></div>

<!-- STEP 1 -->
<div class="scr on" id="s1">
<div style="text-align:center;margin-bottom:28px"><img src="data:image/png;base64,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Mjpn1sy3Vr8j3bbWtpbjjz+ut7f3iCMO23PPqVu2bkfEhQcfOGHihLVr17319js93d3z5s3N5XKvvbbyxptueeihR4aHR8Z3dy1YcIDjOMtffuXoo47898u+/t76jS+99HJLS3b69AVCiNdXrMyN5qdNmTw8kmtva+np6Xnt9RUd7e1XXf7vL7z04usrVxQLpV0isAoMEKJfLRMiNPn2LyASakHS1DCIILh4b/2GkdyIwdjQ8Mibb6/eY8qU73/32z//5U2juZxhGIV84aAF82688ecD/QPjx4//8le/ZieS1117VT6fb2tvP3bxSYLjaH708EULZ0zf62v/9s3vf+/bxx57zE9++ovrf3jdB88+Y8eOgR07dlx+5TW33/pfruskEskrrrx23vw5Z595+kc/9qlbbv5FwrYSieRdd91z1plncM5v+OF3L7v8qsMXLTzttKUJ237jzdXnffiCy77xtZkz97Utq6dn/I033wYEqXTqqCOP+M+f3PCJT15sGA0dslqHFCRA1WKrUp24IIXKWdVw4eNBroJEIpFIJADAMFgykUDAbDabSvkV5l/4/CUk6Cv/ellf346vXfplBBg3ruuPj/75Ixdc6LqcGUa55Jy6dMnQ4PCDv3141ao3Tj9tqWEYRx11RL5QvPTrl11w4cVTpkyePHnSQ4/84dzzPvaXZY9NmNBj2dZee+6x94zpj/75Lx++4BM333bHbXf+yjCML37la08//T+33HrnRy/45PU//o/58+bMmzfPMDBhW+ec99HnX3jxtKUn33rbHcPDw8see/KSz33Jtm0MhCWaBwIghkjAvLQYAxLVu2uaymockiVaoAPInAvuOGUikk4dY9jVNY4x/PqlXx4aGlz+8t9bslnO+Z2/ufv111cgous6nZ3tRyxa2Nbe+uwzj82etf/sWTNnzdrvc1/86vr1G+7+9e3fv+6q5cuX/+j6/7jgI+fffdftBx44P5fLJxPJ519a/p3rfnjWGWf85s5b582ds2nzViHEm2+vKZedb3z90u9dd83iY49zOWeMWYb17rvrnnv+xcHBQYfz/p07heDbe7evXbtW6tsYZ6EhUPzrSRCprhnF1VDqYstqVJYCSP/o3iPEBgDGmGXZBAyZkUylLctGgyHi1GlT1m/YkE6nf/aLX17/45/e+at7ZKius6M9nU5LW23hwoOnTpt2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" style="width:80px;height:80px;border-radius:50%;object-fit:cover;margin-bottom:6px"><h1>Объём</h1></div>
<div style="font-size:12px;color:var(--dim);margin-bottom:8px;font-weight:600">Размеры помещения</div>
<div style="display:flex;flex-direction:column;gap:10px;margin-bottom:18px">
<input class="inp" type="number" id="iL" placeholder="Длина (м)" step="0.01">
<input class="inp" type="number" id="iW" placeholder="Ширина (м)" step="0.01">
<input class="inp" type="number" id="iD" placeholder="Доп. вычитание (м²)" step="0.01" value="0">
</div>
<div style="margin-bottom:18px">
<div style="font-size:12px;color:var(--dim);margin-bottom:8px;font-weight:600">Параметры плитки</div>
<div style="display:flex;gap:8px;margin-bottom:6px">
<input class="inp" type="number" id="iTW" placeholder="Длина плитки (мм)" step="1" style="flex:1" value="1200">
<input class="inp" type="number" id="iTH" placeholder="Ширина плитки (мм)" step="1" style="flex:1" value="600">
</div>
<div style="display:flex;gap:8px">
<input class="inp" type="number" id="iTD" placeholder="Толщина (мм)" step="0.5" value="8" style="flex:1">
<input class="inp" type="number" id="iGap" placeholder="Шов (мм)" step="0.5" value="2" style="flex:1">
</div>
</div>
<div class="geo hide" id="geoBox"><div style="font-size:12px;color:var(--dim);margin-bottom:3px">Рабочая площадь</div><div style="font-size:30px;font-weight:800;color:var(--accent)" id="geoA"></div><div style="font-size:14px;color:var(--accent);margin-top:4px" id="geoCalc"></div><div style="font-size:11px;color:var(--dim);margin-top:3px" id="geoD"></div></div>
<button class="bt bt1" onclick="go(2)">Далее →</button>
<button class="bt bt2" style="margin-top:9px;font-size:14px" onclick="openSettings()">⚙️ Персонализация мастера</button>
<div id="historyList" style="margin-top:20px"></div>
</div>

<!-- STEP 2 -->
<div class="scr" id="s2">
<div style="text-align:center;margin-bottom:24px"><img src="data:image/png;base64,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Mjpn1sy3Vr8j3bbWtpbjjz+ut7f3iCMO23PPqVu2bkfEhQcfOGHihLVr17319js93d3z5s3N5XKvvbbyxptueeihR4aHR8Z3dy1YcIDjOMtffuXoo47898u+/t76jS+99HJLS3b69AVCiNdXrMyN5qdNmTw8kmtva+np6Xnt9RUd7e1XXf7vL7z04usrVxQLpV0isAoMEKJfLRMiNPn2LyASakHS1DCIILh4b/2GkdyIwdjQ8Mibb6/eY8qU73/32z//5U2juZxhGIV84aAF82688ecD/QPjx4//8le/ZieS1117VT6fb2tvP3bxSYLjaH708EULZ0zf62v/9s3vf+/bxx57zE9++ovrf3jdB88+Y8eOgR07dlx+5TW33/pfruskEskrrrx23vw5Z595+kc/9qlbbv5FwrYSieRdd91z1plncM5v+OF3L7v8qsMXLTzttKUJ237jzdXnffiCy77xtZkz97Utq6dn/I033wYEqXTqqCOP+M+f3PCJT15sGA0dslqHFCRA1WKrUp24IIXKWdVw4eNBroJEIpFIJADAMFgykUDAbDabSvkV5l/4/CUk6Cv/ellf346vXfplBBg3ruuPj/75Ixdc6LqcGUa55Jy6dMnQ4PCDv3141ao3Tj9tqWEYRx11RL5QvPTrl11w4cVTpkyePHnSQ4/84dzzPvaXZY9NmNBj2dZee+6x94zpj/75Lx++4BM333bHbXf+yjCML37la08//T+33HrnRy/45PU//o/58+bMmzfPMDBhW+ec99HnX3jxtKUn33rbHcPDw8see/KSz33Jtm0MhCWaBwIghkjAvLQYAxLVu2uaymockiVaoAPInAvuOGUikk4dY9jVNY4x/PqlXx4aGlz+8t9bslnO+Z2/ufv111cgous6nZ3tRyxa2Nbe+uwzj82etf/sWTNnzdrvc1/86vr1G+7+9e3fv+6q5cuX/+j6/7jgI+fffdftBx44P5fLJxPJ519a/p3rfnjWGWf85s5b582ds2nzViHEm2+vKZedb3z90u9dd83iY49zOWeMWYb17rvrnnv+xcHBQYfz/p07heDbe7evXbtW6tsYZ6EhUPzrSRCprhnF1VDqYstqVJYCSP/o3iPEBgDGmGXZBAyZkUylLctGgyHi1GlT1m/YkE6nf/aLX17/45/e+at7ZKius6M9nU5LW23hwoOnTpt2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" style="width:80px;height:80px;border-radius:50%;object-fit:cover;margin-bottom:6px"><h1>Работы и материалы</h1><p style="color:var(--dim);margin-top:5px;font-size:13px"><span style="color:var(--dim)">Площадь:</span> <strong style="color:var(--accent)" id="s2a"></strong> <span style="color:var(--accent)">м² ×</span> <span style="color:var(--accent)" id="s2p"></span> <span style="color:var(--accent)">грн =</span> <strong style="color:var(--accent)" id="s2t"></strong> <span style="color:var(--accent)">грн</span></p></div>
<div id="workCards"></div>
<div id="matCards" style="margin-top:14px"></div>

<div style="display:flex;gap:9px;margin-top:18px">
<button class="bt bt2" style="flex:1" onclick="go(1)">← Назад</button>
<button class="bt bt1" style="flex:2" onclick="go(3)">Рассчитать →</button>
</div>
</div>

<!-- STEP 3 -->
<div class="scr" id="s3">
<div style="text-align:center;margin-bottom:24px"><img src="data:image/png;base64,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Mjpn1sy3Vr8j3bbWtpbjjz+ut7f3iCMO23PPqVu2bkfEhQcfOGHihLVr17319js93d3z5s3N5XKvvbbyxptueeihR4aHR8Z3dy1YcIDjOMtffuXoo47898u+/t76jS+99HJLS3b69AVCiNdXrMyN5qdNmTw8kmtva+np6Xnt9RUd7e1XXf7vL7z04usrVxQLpV0isAoMEKJfLRMiNPn2LyASakHS1DCIILh4b/2GkdyIwdjQ8Mibb6/eY8qU73/32z//5U2juZxhGIV84aAF82688ecD/QPjx4//8le/ZieS1117VT6fb2tvP3bxSYLjaH708EULZ0zf62v/9s3vf+/bxx57zE9++ovrf3jdB88+Y8eOgR07dlx+5TW33/pfruskEskrrrx23vw5Z595+kc/9qlbbv5FwrYSieRdd91z1plncM5v+OF3L7v8qsMXLTzttKUJ237jzdXnffiCy77xtZkz97Utq6dn/I033wYEqXTqqCOP+M+f3PCJT15sGA0dslqHFCRA1WKrUp24IIXKWdVw4eNBroJEIpFIJADAMFgykUDAbDabSvkV5l/4/CUk6Cv/ellf346vXfplBBg3ruuPj/75Ixdc6LqcGUa55Jy6dMnQ4PCDv3141ao3Tj9tqWEYRx11RL5QvPTrl11w4cVTpkyePHnSQ4/84dzzPvaXZY9NmNBj2dZee+6x94zpj/75Lx++4BM333bHbXf+yjCML37la08//T+33HrnRy/45PU//o/58+bMmzfPMDBhW+ec99HnX3jxtKUn33rbHcPDw8see/KSz33Jtm0MhCWaBwIghkjAvLQYAxLVu2uaymockiVaoAPInAvuOGUikk4dY9jVNY4x/PqlXx4aGlz+8t9bslnO+Z2/ufv111cgous6nZ3tRyxa2Nbe+uwzj82etf/sWTNnzdrvc1/86vr1G+7+9e3fv+6q5cuX/+j6/7jgI+fffdftBx44P5fLJxPJ519a/p3rfnjWGWf85s5b582ds2nzViHEm2+vKZedb3z90u9dd83iY49zOWeMWYb17rvrnnv+xcHBQYfz/p07heDbe7evXbtW6tsYZ6EhUPzrSRCprhnF1VDqYstqVJYCSP/o3iPEBgDGmGXZBAyZkUylLctGgyHi1GlT1m/YkE6nf/aLX17/45/e+at7ZKius6M9nU5LW23hwoOnTpt2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" style="width:80px;height:80px;border-radius:50%;object-fit:cover;margin-bottom:6px"><h1>Итог</h1></div>
<div class="tc">
<div style="font-size:12px;color:var(--dim);margin-bottom:7px;position:relative">СТОИМОСТЬ РАБОТ</div>
<div style="font-size:40px;font-weight:800;color:var(--accent);position:relative;line-height:1.1" id="tWork"></div>
<div style="margin-top:14px;position:relative">
<div style="font-size:12px;color:var(--dim);margin-bottom:5px">СТОИМОСТЬ МАТЕРИАЛОВ</div>
<div style="font-size:24px;font-weight:700;color:#fff" id="tMat"></div>
</div></div>

<!-- Refresh all button on results -->
<!-- Results content -->

<div class="sec"><div class="sec-h" style="background:rgba(245,158,11,.08);cursor:pointer;display:flex;align-items:center;padding:16px 18px" onclick="toggleSec('wRows',this)"><span class="sec-arrow" style="font-size:20px;color:var(--accent);margin-right:10px">▼</span><span style="flex:1;font-size:16px;font-weight:800">Работа</span><span style="color:var(--accent);font-weight:800;font-size:16px;margin-right:10px" id="whTotal"></span><div style="position:relative"><button onclick="event.stopPropagation();toggleExMenu('exMenuW',event)" style="background:none;border:none;cursor:pointer;font-size:16px;padding:4px 6px" title="Сохранить">💾</button><div id="exMenuW" class="ex-menu" style="display:none"><button onclick="exportPDF('works');closeExMenus()">📄 PDF работы</button><button onclick="exportPDF('all');closeExMenus()">📄 PDF полная</button><button onclick="exportCSV();closeExMenus()">📊 CSV</button><button onclick="shareTxt();closeExMenus()">📋 Копировать</button></div></div></div><div id="wRows" style="display:none"></div></div>
<div class="sec"><div class="sec-h" style="background:rgba(16,185,129,.08);cursor:pointer;display:flex;align-items:center;padding:16px 18px" onclick="toggleSec('mWrap',this)"><span class="sec-arrow" style="font-size:20px;color:var(--ok);margin-right:10px">▼</span><span style="flex:1;font-size:16px;font-weight:800">Материалы</span><span style="color:var(--ok);font-weight:800;font-size:16px;margin-right:10px" id="mhTotal"></span><div style="position:relative"><button onclick="event.stopPropagation();toggleExMenu('exMenuM',event)" style="background:none;border:none;cursor:pointer;font-size:16px;padding:4px 6px" title="Сохранить">💾</button><div id="exMenuM" class="ex-menu" style="display:none"><button onclick="exportPDF('mats');closeExMenus()">📄 PDF материалы</button><button onclick="exportPDF('all');closeExMenus()">📄 PDF полная</button><button onclick="exportCSV();closeExMenus()">📊 CSV</button><button onclick="shareTxt();closeExMenus()">📋 Копировать</button></div></div></div><div id="mWrap" style="display:none"><div id="mRows"></div></div></div>

<div style="padding:12px 18px;background:var(--surf);border-radius:11px;font-size:12px;color:var(--dim);margin-bottom:18px;line-height:1.5" id="infoBar"></div>
<button class="bt bt2" style="margin-bottom:9px;font-size:14px;border-color:var(--accent);color:var(--accent)" onclick="saveToHistory()">💾 Сохранить в историю</button>
<div style="display:flex;gap:9px;margin-top:9px">
<button class="bt bt2" style="flex:1" onclick="go(2)">← Вернуться</button>
<button class="bt bt2" style="flex:1" onclick="resetAll()">🔄 Заново</button>
</div>
</div>
</div>

<!-- SETTINGS SCREEN -->
<div class="scr" id="s4">
<div style="text-align:center;margin-bottom:24px"><img src="data:image/png;base64,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Mjpn1sy3Vr8j3bbWtpbjjz+ut7f3iCMO23PPqVu2bkfEhQcfOGHihLVr17319js93d3z5s3N5XKvvbbyxptueeihR4aHR8Z3dy1YcIDjOMtffuXoo47898u+/t76jS+99HJLS3b69AVCiNdXrMyN5qdNmTw8kmtva+np6Xnt9RUd7e1XXf7vL7z04usrVxQLpV0isAoMEKJfLRMiNPn2LyASakHS1DCIILh4b/2GkdyIwdjQ8Mibb6/eY8qU73/32z//5U2juZxhGIV84aAF82688ecD/QPjx4//8le/ZieS1117VT6fb2tvP3bxSYLjaH708EULZ0zf62v/9s3vf+/bxx57zE9++ovrf3jdB88+Y8eOgR07dlx+5TW33/pfruskEskrrrx23vw5Z595+kc/9qlbbv5FwrYSieRdd91z1plncM5v+OF3L7v8qsMXLTzttKUJ237jzdXnffiCy77xtZkz97Utq6dn/I033wYEqXTqqCOP+M+f3PCJT15sGA0dslqHFCRA1WKrUp24IIXKWdVw4eNBroJEIpFIJADAMFgykUDAbDabSvkV5l/4/CUk6Cv/ellf346vXfplBBg3ruuPj/75Ixdc6LqcGUa55Jy6dMnQ4PCDv3141ao3Tj9tqWEYRx11RL5QvPTrl11w4cVTpkyePHnSQ4/84dzzPvaXZY9NmNBj2dZee+6x94zpj/75Lx++4BM333bHbXf+yjCML37la08//T+33HrnRy/45PU//o/58+bMmzfPMDBhW+ec99HnX3jxtKUn33rbHcPDw8see/KSz33Jtm0MhCWaBwIghkjAvLQYAxLVu2uaymockiVaoAPInAvuOGUikk4dY9jVNY4x/PqlXx4aGlz+8t9bslnO+Z2/ufv111cgous6nZ3tRyxa2Nbe+uwzj82etf/sWTNnzdrvc1/86vr1G+7+9e3fv+6q5cuX/+j6/7jgI+fffdftBx44P5fLJxPJ519a/p3rfnjWGWf85s5b582ds2nzViHEm2+vKZedb3z90u9dd83iY49zOWeMWYb17rvrnnv+xcHBQYfz/p07heDbe7evXbtW6tsYZ6EhUPzrSRCprhnF1VDqYstqVJYCSP/o3iPEBgDGmGXZBAyZkUylLctGgyHi1GlT1m/YkE6nf/aLX17/45/e+at7ZKius6M9nU5LW23hwoOnTpt2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" style="width:80px;height:80px;border-radius:50%;object-fit:cover;margin-bottom:6px"><h1>Персонализация мастера</h1></div>

<div class="sec"><div class="sec-h" style="background:rgba(96,165,250,.08)"><span>👤 Профиль мастера</span></div>
<div style="padding:12px;display:flex;flex-direction:column;gap:8px">
<div style="font-size:11px;color:var(--dim)">Отображается в PDF-смете для клиента</div>
<input class="inp" id="setMasterName" placeholder="Имя мастера / компания" style="font-size:14px">
<input class="inp" id="setMasterPhone" placeholder="Телефон" style="font-size:14px">
<input class="inp" id="setMasterNote" placeholder="Доп. строка (напр. сайт, город)" style="font-size:14px">
</div></div>

<div class="sec"><div class="sec-h" style="background:rgba(245,158,11,.08)"><span>🔧 Основная работа</span></div>
<div style="padding:12px">
<div style="display:flex;gap:8px;align-items:center;margin-bottom:8px">
<span style="font-size:13px;flex:1">Укладка (грн/м²)</span>
<input class="inp-s" type="number" id="setTilePrice" style="width:80px;font-size:14px;text-align:center">
</div>
<div style="display:flex;gap:8px;align-items:center">
<span style="font-size:13px;flex:1">Высота потолков (м)</span>
<input class="inp-s" type="number" id="setH" step="0.1" style="width:80px;font-size:14px;text-align:center">
</div>
</div></div>

<div class="sec"><div class="sec-h" style="background:rgba(245,158,11,.08)"><span>🔧 Доп. работы</span></div>
<div id="setWorksList" style="padding:8px"></div></div>

<div class="sec"><div class="sec-h" style="background:rgba(16,185,129,.08)"><span>📦 Материалы</span></div>
<div id="setMatsList" style="padding:8px"></div></div>

<div style="display:flex;gap:9px;margin-top:14px">
<button class="bt bt1" style="flex:1;font-size:14px" onclick="saveSettings()">💾 Сохранить</button>
<button class="bt bt2" style="flex:1;font-size:14px" onclick="closeSettings()">← Назад</button>
</div>
</div>

<!-- WORK EDIT MODAL -->
<div class="mo" id="weMo" onclick="if(event.target===this)closeWorkEd()"><div class="mo-b">
<h3 style="margin-bottom:14px;font-size:17px;font-weight:700" id="weTitle"></h3>
<div style="display:flex;flex-direction:column;gap:9px;margin-bottom:14px">
<label style="font-size:12px;color:var(--dim)">Название<input class="inp" id="weN" style="font-size:14px;margin-top:4px"></label>
<div style="display:flex;gap:8px"><label style="font-size:12px;color:var(--dim);flex:1">Цена (грн)<input class="inp" type="number" id="weP" step="1" style="font-size:14px;margin-top:4px"></label><label style="font-size:12px;color:var(--dim);flex:1">Единица<input class="inp" id="weU" style="font-size:14px;margin-top:4px"></label></div>
<label style="font-size:12px;color:var(--dim)">Расчёт кол-ва<select class="inp" id="weT" style="font-size:14px;margin-top:4px;padding:12px 16px" onchange="weUpd()"><option value="area">По площади</option><option value="manual">Вручную</option><option value="fixed">Фикс. (1 шт)</option></select></label>
<label style="font-size:12px;color:var(--dim)" id="weQL">Количество<input class="inp" type="number" id="weQ" step="0.1" style="font-size:14px;margin-top:4px"></label>
<div style="display:flex;align-items:center;gap:8px;padding:10px 14px;background:var(--surf);border-radius:9px;border:1px solid var(--border)"><input type="checkbox" id="weDed" style="width:18px;height:18px;accent-color:var(--accent)" onchange="weUpd()"><label for="weDed" style="font-size:12px;color:var(--dim);flex:1">Вычитать из площади</label><input class="inp-s" type="number" id="weDedV" step="0.1" value="1" style="width:60px;font-size:12px"></div>
</div>
<div style="display:flex;gap:9px"><button class="bt bt2" style="flex:1;padding:11px;font-size:13px" onclick="closeWorkEd()">Отмена</button><button class="bt bt1" style="flex:1;padding:11px;font-size:13px" onclick="saveWorkEd()">Сохранить</button></div>
</div></div>

<!-- MAT ADD MODAL (only for new materials) -->
<div class="mo" id="meMo" onclick="if(event.target===this)closeMatEd()"><div class="mo-b">
<h3 style="margin-bottom:14px;font-size:17px;font-weight:700" id="meTitle">Новый материал</h3>
<div style="display:flex;flex-direction:column;gap:9px;margin-bottom:14px">
<label style="font-size:12px;color:var(--dim)">Название<input class="inp" id="meN" style="font-size:14px;margin-top:4px"></label>
<div style="display:flex;gap:8px">
<label style="font-size:12px;color:var(--dim);flex:1">Базовая цена (грн)<input class="inp" type="number" id="meP" step="1" style="font-size:14px;margin-top:4px"></label>
<label style="font-size:12px;color:var(--dim);flex:1">Единица<input class="inp" id="meU" style="font-size:14px;margin-top:4px"></label>
</div>
<label style="font-size:12px;color:var(--dim)">Расход на 1 м² <span style="font-size:10px">(0 = фикс.)</span><input class="inp" type="number" id="meR" step="0.001" style="font-size:14px;margin-top:4px"></label>
<label style="font-size:12px;color:var(--dim)" id="meFQWrap">Фикс. количество <span style="font-size:10px">(если расход=0)</span><input class="inp" type="number" id="meFQ" step="1" style="font-size:14px;margin-top:4px"></label>
</div>
<div style="display:flex;gap:9px"><button class="bt bt2" style="flex:1;padding:11px;font-size:13px" onclick="closeMatEd()">Отмена</button><button class="bt bt1" style="flex:1;padding:11px;font-size:13px" onclick="saveMatEd()">Добавить</button></div>
</div></div>

<!-- LINK EDIT MODAL -->
<div class="mo" id="leMo" onclick="if(event.target===this)closeLinkEd()"><div class="mo-b">
<h3 style="margin-bottom:14px;font-size:17px;font-weight:700">Редактировать ссылку</h3>
<div style="display:flex;flex-direction:column;gap:9px;margin-bottom:14px">
<label style="font-size:12px;color:var(--dim)">Название товара<input class="inp" id="leTitle" placeholder="напр. Ceresit CM 11 25кг" style="font-size:13px;margin-top:4px"></label>
<label style="font-size:12px;color:var(--dim)">URL<input class="inp" id="leUrl" style="font-size:13px;margin-top:4px"></label>
<label style="font-size:12px;color:var(--dim)">Цена (грн)<input class="inp" type="number" id="lePrice" step="1" style="font-size:14px;margin-top:4px"></label>
<label style="font-size:12px;color:var(--dim)">Заметка<input class="inp" id="leNote" placeholder="напр. Эпицентр, акция до 01.03" style="font-size:13px;margin-top:4px"></label>
<div style="display:flex;gap:8px;align-items:center">
<button class="db-btn" onclick="window.open($('leUrl').value,'_blank')" style="flex:1">🔗 Открыть ссылку</button>
<div style="font-size:10px;color:var(--dim);flex:1">Проверьте цену на сайте и обновите</div>
</div>
</div>
<div style="display:flex;gap:9px"><button class="bt bt2" style="flex:1;padding:11px;font-size:13px" onclick="closeLinkEd()">Отмена</button><button class="bt bt1" style="flex:1;padding:11px;font-size:13px" onclick="saveLinkEd()">Сохранить</button></div>
</div></div>

<script>
// One-time reset to clear corrupted data from previous versions
if(!localStorage.getItem("tilecalc_v6_full")){
  for(var k in localStorage){if(k.indexOf("tilecalc")===0)localStorage.removeItem(k);}
  localStorage.setItem("tilecalc_v6_full","1");
}
var H=2.7,DA=1.47;
var LOGO_B64="data:image/png;base64,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Mjpn1sy3Vr8j3bbWtpbjjz+ut7f3iCMO23PPqVu2bkfEhQcfOGHihLVr17319js93d3z5s3N5XKvvbbyxptueeihR4aHR8Z3dy1YcIDjOMtffuXoo47898u+/t76jS+99HJLS3b69AVCiNdXrMyN5qdNmTw8kmtva+np6Xnt9RUd7e1XXf7vL7z04usrVxQLpV0isAoMEKJfLRMiNPn2LyASakHS1DCIILh4b/2GkdyIwdjQ8Mibb6/eY8qU73/32z//5U2juZxhGIV84aAF82688ecD/QPjx4//8le/ZieS1117VT6fb2tvP3bxSYLjaH708EULZ0zf62v/9s3vf+/bxx57zE9++ovrf3jdB88+Y8eOgR07dlx+5TW33/pfruskEskrrrx23vw5Z595+kc/9qlbbv5FwrYSieRdd91z1plncM5v+OF3L7v8qsMXLTzttKUJ237jzdXnffiCy77xtZkz97Utq6dn/I033wYEqXTqqCOP+M+f3PCJT15sGA0dslqHFCRA1WKrUp24IIXKWdVw4eNBroJEIpFIJADAMFgykUDAbDabSvkV5l/4/CUk6Cv/ellf346vXfplBBg3ruuPj/75Ixdc6LqcGUa55Jy6dMnQ4PCDv3141ao3Tj9tqWEYRx11RL5QvPTrl11w4cVTpkyePHnSQ4/84dzzPvaXZY9NmNBj2dZee+6x94zpj/75Lx++4BM333bHbXf+yjCML37la08//T+33HrnRy/45PU//o/58+bMmzfPMDBhW+ec99HnX3jxtKUn33rbHcPDw8see/KSz33Jtm0MhCWaBwIghkjAvLQYAxLVu2uaymockiVaoAPInAvuOGUikk4dY9jVNY4x/PqlXx4aGlz+8t9bslnO+Z2/ufv111cgous6nZ3tRyxa2Nbe+uwzj82etf/sWTNnzdrvc1/86vr1G+7+9e3fv+6q5cuX/+j6/7jgI+fffdftBx44P5fLJxPJ519a/p3rfnjWGWf85s5b582ds2nzViHEm2+vKZedb3z90u9dd83iY49zOWeMWYb17rvrnnv+xcHBQYfz/p07heDbe7evXbtW6tsYZ6EhUPzrSRCprhnF1VDqYstqVJYCSP/o3iPEBgDGmGXZBAyZkUylLctGgyHi1GlT1m/YkE6nf/aLX17/45/e+at7ZKius6M9nU5LW23hwoOnTpt2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";
var TILE_WORK={id:"tile",name:"Укладка плитки",price:670,unit:"м²"};
const BASE_WORKS=[
  {id:"groutCement",name:"Затирка цементная",price:100,unit:"м²",type:"area",enabled:false,group:"grout",workGroup:"finish"},
  {id:"groutEpoxy",name:"Затирка эпоксидная",price:150,unit:"м²",type:"area",enabled:false,group:"grout",workGroup:"finish"},
  {id:"seal",name:"Герметизация",price:50,unit:"м.п.",type:"manual",qty:0,enabled:false,workGroup:"finish"},
  {id:"cut",name:"Чистый рез",price:100,unit:"м.п.",type:"manual",qty:0,enabled:false,workGroup:"cut"},
  {id:"holes",name:"Отверстия",price:150,unit:"шт",type:"manual",qty:0,enabled:false,workGroup:"cut"},
  {id:"tray",name:"Душевой поддон",price:7000,unit:"шт",type:"fixed",enabled:false,deduct:1,workGroup:"install"},
  {id:"install",name:"Облицовка инсталляции",price:3500,unit:"шт",type:"fixed",enabled:false,deduct:1,workGroup:"install"},
];
const BASE_MATS=[
  // ══ Облицовка ══
  {id:"adhesive",name:"Цементный плиточный клей",unit:"мешок 25кг",rate:0,price:600,productTitle:"Kreisel - 104",enabled:true,links:[],rateKg:1.3,layerMm:3,matGroup:"tile"},
  {id:"primer",name:"Грунтовка глубокого проникновения",unit:"канистра",rate:0,price:0,productTitle:"Ceresit CT 17",enabled:true,links:[],primerRate:0.15,matGroup:"tile"},
  {id:"svpBase",name:"СВП зажимы",unit:"уп.",rate:0,price:150,productTitle:"Advanta (500 шт)",enabled:true,links:[],fixedQty:2,svpPack:500,matGroup:"tile"},
  {id:"svpWedge",name:"СВП клинья",unit:"уп.",rate:0,price:120,productTitle:"Advanta (250 шт)",enabled:true,links:[],fixedQty:2,svpPack:250,matGroup:"tile"},
  // ══ Затирка ══
  {id:"groutCement",name:"Затирка цементная",unit:"кг",rate:0.06,price:200,productTitle:"Mapei Ultracolor Plus",enabled:true,links:[],cond:"groutCement",matGroup:"grout"},
  {id:"groutEpoxy",name:"Затирка эпоксидная",unit:"кг",rate:0.06,price:640,productTitle:"mapei kerapoxy easy design",enabled:true,links:[],cond:"groutEpoxy",matGroup:"grout"},
  {id:"epoxyRemover",name:"Средство для удаления эпоксидного налёта",unit:"бутылка",rate:0,price:750,productTitle:"Mapei Ultracare Kerapoxy Cleaner",enabled:true,links:[],fixedQty:1,matGroup:"grout"},
  {id:"spongeCellulose",name:"Целлюлозная губка",unit:"шт",rate:0,price:500,productTitle:"Mapei",enabled:true,links:[],fixedQty:1,matGroup:"grout"},
  {id:"spongeAbrasive",name:"Абразивная губка",unit:"шт",rate:0,price:150,productTitle:"Mapei",enabled:true,links:[],fixedQty:1,matGroup:"grout"},
  // ══ Расходники ══
  {id:"masktape",name:"Малярный скотч (50м)",unit:"шт",rate:0,price:80,productTitle:"Kubala",enabled:true,links:[],fixedQty:1,matGroup:"consumables"},
  {id:"blades",name:"Лезвия малярные",unit:"уп.",rate:0,price:40,productTitle:"Stal",enabled:true,links:[],fixedQty:1,matGroup:"consumables"},
  {id:"ductTape",name:"Скотч армированный (30м)",unit:"шт",rate:0,price:150,productTitle:"",enabled:true,links:[],fixedQty:1,matGroup:"consumables"},
  // ══ Герметизация ══
  {id:"silicone",name:"Санитарный силикон",unit:"туба",rate:0,price:600,productTitle:"Mapei Mapecil (310мл)",enabled:true,links:[],cond:"seal",matGroup:"seal"},
  // ══ Гидроизоляция ══
  {id:"hydro",name:"Обмазочная гидроизоляция (7кг)",unit:"ведро",rate:0,price:1500,productTitle:"Ceresit CL 51",enabled:true,links:[],fixedQty:1,cond:"tray",matGroup:"hydro"},
  {id:"hydroTape",name:"Гидроизоляционная лента (10м)",unit:"шт",rate:0,price:2000,productTitle:"Ceresit CL 152",enabled:true,links:[],fixedQty:1,cond:"tray",matGroup:"hydro"},
];

let S;
const $=id=>document.getElementById(id);
const r1=n=>Math.round(n*10)/10;
const fmt=n=>n.toLocaleString("uk-UA");
const esc=s=>String(s).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");
const now=()=>Date.now();

function defaultState(){return{works:JSON.parse(JSON.stringify(BASE_WORKS)),materials:JSON.parse(JSON.stringify(BASE_MATS))};}

const STORAGE_KEY="tilecalc_data";
const BACKUP_KEY="tilecalc_backup";

function loadState(){
  try{
    // 1. Try permanent key
    let s=localStorage.getItem(STORAGE_KEY);
    // 2. Migrate from any old versioned key
    if(!s){
      for(let v=50;v>=9;v--){
        s=localStorage.getItem("tilecalc_v"+v);
        if(s)break;
      }
    }
    // 3. Try backup
    if(!s)s=localStorage.getItem(BACKUP_KEY);

    if(s){
      S=JSON.parse(s);
      if(!S.works)S.works=JSON.parse(JSON.stringify(BASE_WORKS));
      S.works=S.works.filter(w=>w.id!=="tile");
      // Migrate workGroup from BASE_WORKS (always sync)
      S.works.forEach(w=>{var bw=BASE_WORKS.find(function(b){return b.id===w.id;});if(bw){w.workGroup=bw.workGroup;w.name=bw.name;}});
      if(!S.materials)S.materials=JSON.parse(JSON.stringify(BASE_MATS));
      S.materials.forEach(m=>{
        if(!m.links)m.links=[];
        if(m.enabled===undefined)m.enabled=true;
        // Migrate primer to canister-based calc
        if(m.id==="primer"){m.primerRate=0.15;m.price=0;m.rate=0;m.unit="канистра";}
        // Migrate SVP pack sizes
        if(m.id==="svpBase"&&!m.svpPack)m.svpPack=500;
        if(m.id==="svpWedge"&&!m.svpPack)m.svpPack=250;
        // Migrate matGroup from BASE_MATS
        if(!m.matGroup){var baseG=BASE_MATS.find(function(b){return b.id===m.id;});if(baseG&&baseG.matGroup)m.matGroup=baseG.matGroup;}
        // Migrate: pull price and title from BASE_MATS if missing
        var base=BASE_MATS.find(function(b){return b.id===m.id;});
        if((!m.price||m.price===0)&&base&&base.price>0)m.price=base.price;
        if(!m.productTitle&&base&&base.productTitle)m.productTitle=base.productTitle;
        // Fallback: sync from links
        if((!m.price||m.price===0)&&m.links.length>0){
          const lp=m.links.filter(l=>l.price>0);
          if(lp.length>0)m.price=Math.min.apply(null,lp.map(l=>l.price));
        }
        if(!m.productTitle&&m.links.length>0){
          for(var li=0;li<m.links.length;li++){
            if(m.links[li].title){m.productTitle=m.links[li].title;break;}
          }
        }
        m.links.forEach(l=>{
          if(!l.updated)l.updated=now();
          if(!l.note)l.note="";
          if(!l.title)l.title="";
          if(!l.history)l.history=[];
        });
      });
      // Save to permanent key immediately
      if(S._tilePrice)TILE_WORK.price=S._tilePrice;
      if(S._H)H=S._H;
      saveState();
      return;
    }
  }catch(e){}
  S=defaultState();
}

function saveState(){
  try{
    const d=JSON.stringify(S);
    localStorage.setItem(STORAGE_KEY,d);
    localStorage.setItem(BACKUP_KEY,d);
  }catch(e){}
}

// ═══ LINK HELPERS ═══
function matPrice(m){
  // Грунтовка: цена зависит от объёма (≤5л → 300грн/5л, >5л → 600грн/10л)
  if(m.id==="primer"){
    var liters=(m.primerRate||0.15)*calcW();
    return liters<=5?300:600;
  }
  // Direct price field is the source of truth
  if(m.price>0)return m.price;
  // Fallback: check links for backward compatibility
  const p=(m.links||[]).filter(l=>l.price>0);
  return p.length?Math.min.apply(null,p.map(l=>l.price)):0;
}
function matBest(m){
  const p=(m.links||[]).filter(l=>l.price>0);
  if(!p.length)return null;
  let b=p[0];p.forEach(l=>{if(l.price<b.price)b=l;});
  return b;
}
// Авто-определение гребёнки по размеру плитки → толщина слоя клея
function autoGrebMm(){
  var tw=parseFloat($("iTW").value)||0,th=parseFloat($("iTH").value)||0;
  if(tw<=0||th<=0)return 0;
  var side=Math.max(tw,th);
  // Размер зуба по ДБН: <100→3, <150→4, <200→6, <300→8, <400→10, ≥400→12
  var tooth=side<100?3:side<150?4:side<200?6:side<300?8:side<400?10:12;
  return tooth/3; // реальная толщина после прижатия ≈ зуб/3 (практика мастеров)
}

function matQty(m,area){
  // Спец. расчёт клея: если указаны размеры плитки — считаем точно
  if(m.rateKg&&m.layerMm){
    var autoLayer=autoGrebMm();
    var layer=autoLayer>0?autoLayer:m.layerMm;
    return Math.ceil(m.rateKg*layer*area/25);
  }
  // Спец. расчёт затирки по формуле: (A+B)/(A×B) × C × D × 1.6 × area (кг)
  if((m.id==="groutCement"||m.id==="groutEpoxy")&&m.rate>0){
    var tw=parseFloat($("iTW").value)||0,th=parseFloat($("iTH").value)||0;
    var td=parseFloat($("iTD").value)||8,gap=parseFloat($("iGap").value)||2;
    if(tw>0&&th>0){
      var density=m.id==="groutEpoxy"?1.55:1.8;
      var kgPerSqm=(tw+th)/(tw*th)*td*gap*density;
      return Math.ceil(kgPerSqm*area);
    }
    // Фоллбэк: стандартная формула rate×area
    return Math.ceil(area*m.rate);
  }
  // Спец. расчёт СВП: шаг 150мм по 2 смежным сторонам плитки
  if(m.id==="svpBase"||m.id==="svpWedge"){
    var tw=parseFloat($("iTW").value)||0,th=parseFloat($("iTH").value)||0;
    if(tw>0&&th>0){
      var perTile=Math.round(tw/150)+Math.round(th/150);
      var tilesPerSqm=1/(tw/1000*th/1000);
      var totalClips=Math.ceil(perTile*tilesPerSqm*area*1.1); // +10% запас
      if(m.id==="svpBase"){var packSize=m.svpPack||500;return Math.ceil(totalClips/packSize);}
      if(m.id==="svpWedge"){var packSize=m.svpPack||250;return Math.ceil(totalClips/3/packSize);} // клиньев ≈ 1/3 зажимов
    }
    if(m.fixedQty)return m.fixedQty;
    return 0;
  }
  // Спец. расчёт грунтовки: 0.15 л/м², канистры 10л/5л
  if(m.id==="primer"){
    var pRate=m.primerRate||0.15;
    var liters=pRate*area;
    if(liters<=5)return 1; // 1×5л
    if(liters<=10)return 1; // 1×10л
    return Math.ceil(liters/10); // N×10л
  }
  // Спец. расчёт силикона: шов 4×4мм, п.м. из работы "seal", тубы 310мл
  if(m.id==="silicone"){
    var sealWork=S.works.find(w=>w.id==="seal");
    if(sealWork&&sealWork.enabled&&sealWork.qty>0){
      var mlTotal=4*4*sealWork.qty; // 16 мл/м.п.
      return mlTotal<=450?1:Math.ceil(mlTotal/310);
    }
    return 1;
  }
  if(m.fixedQty)return m.fixedQty;
  if(m.rate>0)return Math.ceil(area*m.rate);
  return 0;
}
function eIds(){return new Set(S.works.filter(w=>w.enabled).map(w=>w.id));}

function hostName(url){try{return new URL(url).hostname.replace("www.","");}catch(e){return"ссылка";}}

function priceAge(updated){
  if(!updated)return{cls:"old",text:"нет данных"};
  const diff=now()-updated;
  const days=Math.floor(diff/86400000);
  if(days<1)return{cls:"fresh",text:"сегодня"};
  if(days<3)return{cls:"fresh",text:days+"д назад"};
  if(days<7)return{cls:"stale",text:days+"д назад"};
  return{cls:"old",text:days+"д назад"};
}

function totalLinks(){
  let count=0,withPrice=0;
  S.materials.forEach(m=>(m.links||[]).forEach(l=>{count++;if(l.price>0)withPrice++;}));
  return{count,withPrice};
}

// ═══ NAV ═══
function go(n){
  try{
    document.querySelectorAll(".scr").forEach(function(s){s.classList.remove("on")});
    $("s"+n).classList.add("on");
    for(var i=1;i<=3;i++)$("p"+i).classList.toggle("on",i<=n);
    window.scrollTo(0,0);
    if(n===1){S.works.forEach(function(w){w.enabled=false});saveState();renderHistory();}
    if(n===2){var w=calcW();$("s2a").textContent=w;$("s2p").textContent=TILE_WORK.price;$("s2t").textContent=fmt(Math.round(w*TILE_WORK.price));renderWC();renderMC();updateDbPanel();}
    if(n===3){renderResult();}
  }catch(e){console.error("go error:",e);}
}

// ═══ CALC ═══
function gv(){return{l:parseFloat($("iL").value)||0,w:parseFloat($("iW").value)||0,d:parseFloat($("iD").value)||0}}
function calcW(){const{l,w,d}=gv();let b=Math.max(l*w+(l+w)*2*H-DA-d,0);let r=0;S.works.forEach(w=>{if(w.enabled&&w.deduct)r+=w.deduct;});return r1(Math.max(b-r,0));}
function updGeo(){const{l,w}=gv(),fl=l*w,wa=(l+w)*2*H,wk=calcW();if(wk>0){$("geoBox").classList.remove("hide");$("geoA").textContent=wk+" м²";$("geoCalc").textContent=wk+" × "+TILE_WORK.price+" грн = "+fmt(Math.round(wk*TILE_WORK.price))+" грн";var info=`Пол: ${r1(fl)} · Стены: ${r1(wa)} · Дверь: −${DA} м²`;$("geoD").textContent=info;}else $("geoBox").classList.add("hide");}

// ═══ WORK CARDS ═══
let showWorkList=false;
function wQty(w,a){return w.type==="area"?a:w.type==="fixed"?1:w.qty||0;}
function renderWC(){
  const a=calcW();

  // Summary for collapsed view
  let workCount=0,workTotal=0;
  S.works.forEach(w=>{if(!w.enabled)return;const q=wQty(w,a);workCount++;workTotal+=Math.round(q*w.price);});

  let h='<div style="margin-bottom:8px;font-weight:700;font-size:15px;display:flex;justify-content:space-between;align-items:center">';
  if(workCount>0)h+=`<span style="font-size:13px;font-weight:600;color:var(--accent)">${workCount} поз. · ${fmt(workTotal)} грн</span>`;
  h+=`</div>`;

  const wArrow=showWorkList?"▲":"▼";
  h+=`<div class="sec"><div class="sec-h" style="background:rgba(245,158,11,.08);cursor:pointer;display:flex;align-items:center;padding:16px 18px" onclick="showWorkList=!showWorkList;renderWC()"><span class="sec-arrow" style="font-size:20px;color:var(--accent);margin-right:10px">${showWorkList?'▲':'▼'}</span><span style="flex:1;font-size:16px;font-weight:800;text-align:center">Добавить отдельные работы</span><span onclick="event.stopPropagation();resetWorks()" style="font-size:22px;cursor:pointer;padding:4px 8px;filter:sepia(1) saturate(5) hue-rotate(-10deg) brightness(0.95)" title="Сбросить работы">🔄</span></div></div>`;

  if(showWorkList){
  S.works.forEach((w,i)=>{
    const on=w.enabled,q=wQty(w,a),s=on?Math.round(q*w.price):0;
    h+=`<div class="wi${on?" on":""}"><div style="display:flex;align-items:center;gap:10px"><div class="ck" style="cursor:pointer" onclick="toggleW(${i})">${on?"✓":""}</div><div style="flex:1;min-width:0;cursor:pointer" onclick="toggleW(${i})"><div style="font-weight:600;font-size:14px">${esc(w.name)}${w.title?' <span style="color:var(--accent);font-size:12px;font-weight:500">'+esc(w.title)+'</span>':""}</div><div style="font-size:11px;color:var(--dim);margin-top:2px">${w.price} грн/${esc(w.unit)}${on&&q>0?" · "+q+" "+esc(w.unit)+" = "+fmt(s)+" грн":""}${w.deduct?" · −"+w.deduct+" м²":""}</div></div><button onclick="openWorkEd(${i})" style="background:none;border:none;cursor:pointer;font-size:15px;padding:4px;color:var(--dim)">✏️</button>${!BASE_WORKS.find(bw=>bw.id===w.id)?`<button onclick="S.works.splice(${i},1);saveState();renderWC();renderMC()" style="background:none;border:none;cursor:pointer;font-size:13px;padding:4px;color:var(--err)">✕</button>`:""}</div>`;
    if(on&&w.type==="manual")h+=`<div style="margin-top:6px;display:flex;align-items:center;gap:8px;padding-left:36px"><span style="font-size:11px;color:var(--dim)">Кол-во:</span><input class="inp-s" type="number" step="0.1" value="${w.qty||""}" style="width:70px;font-size:13px" oninput="S.works[${i}].qty=parseFloat(this.value)||0;saveState();updWorkTotals()"><span style="font-size:11px;color:var(--dim)">${esc(w.unit)}</span></div>`;
    h+=`</div>`;
    h+=`</div>`;
  });
  h+=`<button class="bt bt2" style="padding:12px;font-size:14px;margin-top:4px" onclick="openWorkEd(-1)">+ Добавить работу</button>`;
  h+=`<button class="bt bt2" style="padding:12px;font-size:14px;margin-top:4px" onclick="showWorkList=false;renderWC()">▲ Свернуть работы</button>`;
  }

  $("workCards").innerHTML=h;
  const ww=calcW();$("s2a").textContent=ww;$("s2p").textContent=TILE_WORK.price;$("s2t").textContent=fmt(Math.round(ww*TILE_WORK.price));
}
function toggleW(i){const w=S.works[i];if(w.group&&!w.enabled)S.works.forEach(x=>{if(x.group===w.group)x.enabled=false;});w.enabled=!w.enabled;saveState();renderWC();renderMC();}

function updWorkTotals(){
  const a=calcW();
  $("s2a").textContent=a;$("s2p").textContent=TILE_WORK.price;$("s2t").textContent=fmt(Math.round(a*TILE_WORK.price));
  var workTotal=Math.round(a*TILE_WORK.price);
  S.works.forEach(w=>{if(!w.enabled)return;const q=wQty(w,a);workTotal+=Math.round(q*w.price);});
}

function resetWorks(){
  S.works.forEach(function(w){
    var base=BASE_WORKS.find(function(b){return b.id===w.id;});
    w.enabled=base?base.enabled:false;
    if(w.type==="manual")w.qty=0;
  });
  saveState();renderWC();renderMC();
}

function resetMats(){
  S.materials.forEach(function(m){
    var base=BASE_MATS.find(function(b){return b.id===m.id;});
    m.enabled=base?base.enabled:true;
    m.manualOn=false;
  });
  saveState();renderMC();
}

function updWorkPrice(i){
  const prInp=$("workPr"+i),ttInp=$("workTt"+i);
  const price=Math.round(parseFloat(prInp&&prInp.value)||0);
  const title=(ttInp&&ttInp.value||"").trim();
  if(!price&&!title)return;
  if(price>0)S.works[i].price=price;
  if(title)S.works[i].title=title;
  if(!S.works[i].enabled)S.works[i].enabled=true;
  saveState();
  if(prInp)prInp.value="";if(ttInp)ttInp.value="";
  renderWC();renderMC();
}

let weIdx=-1;
function openWorkEd(i){weIdx=i;const w=i>=0?S.works[i]:null;$("weTitle").textContent=w?"Редактировать":"Новая работа";$("weN").value=w?w.name:"";$("weP").value=w?w.price:"";$("weU").value=w?w.unit:"м²";$("weT").value=w?w.type:"area";$("weQ").value=w?w.qty||"":"";$("weDed").checked=w?!!w.deduct:false;$("weDedV").value=w?w.deduct||1:1;weUpd();$("weMo").classList.add("open");}
function closeWorkEd(){$("weMo").classList.remove("open");weIdx=-1;}
function weUpd(){$("weQL").style.display=$("weT").value==="manual"?"block":"none";$("weDedV").style.display=$("weDed").checked?"block":"none";}
function saveWorkEd(){const n=$("weN").value.trim();if(!n)return;const o={id:weIdx>=0?S.works[weIdx].id:"custom_"+Date.now(),name:n,price:parseFloat($("weP").value)||0,unit:$("weU").value.trim()||"шт",type:$("weT").value,qty:parseFloat($("weQ").value)||0,enabled:weIdx>=0?S.works[weIdx].enabled:true};if(weIdx>=0&&S.works[weIdx].group)o.group=S.works[weIdx].group;if($("weDed").checked)o.deduct=parseFloat($("weDedV").value)||0;if(weIdx>=0)S.works[weIdx]=o;else S.works.push(o);saveState();renderWC();renderMC();closeWorkEd();}

// ═══ MATERIAL CARDS (simplified) ═══
let showAllMats=false;
let showMatList=false;
let matSortOrder=null; // cached sort order

function buildMatOrder(ei){
  // Build sorted order: active first, inactive last, stable within groups
  const active=[],inactive=[];
  S.materials.forEach((m,i)=>{
    const condMet=!m.cond||ei.has(m.cond);
    const manualOn=!!m.manualOn;
    const isActive=m.enabled&&(condMet||manualOn);
    if(isActive)active.push(i); else inactive.push(i);
  });
  return active.concat(inactive);
}

function renderMC(){
  const a=calcW(),ei=eIds();

  // Count active materials and total cost for summary
  let matSummaryCount=0,matSummaryTotal=0;
  if(a>0) S.materials.forEach(m=>{
    if(!m.enabled)return;
    const condMet=!m.cond||ei.has(m.cond);
    if(!condMet&&!m.manualOn)return;
    const p=matPrice(m),q=matQty(m,a);if(q<=0)return;
    matSummaryCount++;matSummaryTotal+=Math.round(q*p);
  });

  let h='';
  h+='<div style="margin-bottom:8px;font-weight:700;font-size:15px;display:flex;justify-content:space-between;align-items:center">';
  if(matSummaryCount>0)h+=`<span style="font-size:13px;font-weight:600;color:var(--ok)">${matSummaryCount} поз. · ${matSummaryTotal>0?fmt(matSummaryTotal)+' грн':'цены не указаны'}</span>`;
  h+=`</div>`;

  if(a>0){
    const mArrow=showMatList?"▲":"▼";
    h+=`<div class="sec"><div class="sec-h" style="background:rgba(16,185,129,.08);cursor:pointer;display:flex;align-items:center;padding:16px 18px" onclick="showMatList=!showMatList;if(showMatList)matSortOrder=buildMatOrder(eIds());else matSortOrder=null;renderMC()"><span class="sec-arrow" style="font-size:20px;color:var(--ok);margin-right:10px">${showMatList?'▲':'▼'}</span><span style="flex:1;font-size:16px;font-weight:800;text-align:center">Показать список материалов</span><span onclick="event.stopPropagation();resetMats()" style="font-size:22px;cursor:pointer;padding:4px 8px;filter:sepia(1) saturate(3) hue-rotate(90deg) brightness(0.85)" title="Сбросить материалы">🔄</span></div></div>`;
  } else {
    h+=`<div style="text-align:center;padding:14px;font-size:13px;color:var(--dim)">Введите размеры на шаге 1 для расчёта материалов</div>`;
    $("matCards").innerHTML=h;
    return;
  }

  if(!showMatList){
    $("matCards").innerHTML=h;
    return;
  }

  // If no cached order, build it
  if(!matSortOrder)matSortOrder=buildMatOrder(ei);

  function renderCard(m,i){
    const condMet=!m.cond||ei.has(m.cond);
    const manualOn=!!m.manualOn;
    const active=m.enabled&&(condMet||manualOn);
    const p=matPrice(m),q=matQty(m,a),s=active&&q>0?Math.round(q*p):0;
    const linksWithPrice=(m.links||[]).filter(l=>l.price>0);
    const hasL=linksWithPrice.length>0;
    const isCustom=!BASE_MATS.find(b=>b.id===m.id);
    let c=`<div class="mi${active?" on":""}">
      <div style="display:flex;align-items:center;gap:10px">
        <div class="ck" style="cursor:pointer" onclick="tgMatSmart(${i})">${active?"✓":""}</div>
        <div style="flex:1;min-width:0;cursor:pointer" onclick="tgMatSmart(${i})">
          <div style="font-weight:600;font-size:13px">${esc(m.name)}</div>
          <div style="font-size:11px;color:var(--dim);margin-top:2px">${(hasL?'<span style="color:var(--ok)">●</span> ':'')+(p>0?p+' грн/'+esc(m.unit):'цена не указана')+(active&&q>0?' · <b>'+q+' '+esc(m.unit)+'</b>'+(s>0?' = '+fmt(s)+' грн':''):'')}</div>
        </div>
        ${isCustom?`<button onclick="S.materials.splice(${i},1);saveState();renderMC()" style="background:none;border:none;cursor:pointer;font-size:13px;padding:4px;color:var(--err)">✕</button>`:""}
      </div>`;
    if(m.links&&m.links.length>0){
      c+=`<div class="ml">`;
      m.links.forEach(function(l,li){
        const host=l.url?hostName(l.url):"";const ps=l.price?l.price+" грн":"—";const age=priceAge(l.updated);const tt=l.title||"";
        c+=`<div class="ml-r">${l.url?`<a href="${esc(l.url)}" target="_blank">🔗 ${tt?esc(tt):esc(host)}</a>`:`<span style="color:var(--dim)">${tt?'💰 '+esc(tt):'💰 вручную'}</span>`}<span class="price-badge ${age.cls}">${age.text}</span><span class="p">${ps}</span>${l.history&&l.history.length>0?`<span class="old">${l.history[l.history.length-1].price}</span>`:""}<button class="ed" onclick="openLinkEd(${i},${li})" title="Обновить цену">✏️</button><button class="x" onclick="rmLink(${i},${li})">✕</button></div>`;
      });
      c+=`</div>`;
    }
    c+=`<div class="ml-add"><input id="linkTt${i}" placeholder="название товара"><div class="ml-row"><input id="linkInp${i}" placeholder="ссылка (необязат.)" style="flex:1" onkeydown="if(event.key==='Enter'){event.preventDefault();addLink(${i})}"><input id="linkPr${i}" type="number" placeholder="грн" style="width:65px;text-align:center" onkeydown="if(event.key==='Enter'){event.preventDefault();addLink(${i})}"><button type="button" onclick="addLink(${i})">+</button></div></div>`;
    c+=`</div>`;
    return c;
  }

  // Материалы в закэшированном порядке
  matSortOrder.forEach(i=>{
    h+=renderCard(S.materials[i],i);
  });

  h+=`<button class="bt bt2" style="padding:12px;font-size:14px;margin-top:4px" onclick="openMatEd(-1)">+ Добавить материал</button>`;
  h+=`<button class="bt bt2" style="padding:12px;font-size:14px;margin-top:4px" onclick="showMatList=false;matSortOrder=null;renderMC()">▲ Свернуть материалы</button>`;
  $("matCards").innerHTML=h;
}

function tgMatSmart(i){
  const m=S.materials[i];
  const ei=eIds();
  const condMet=!m.cond||ei.has(m.cond);
  if(condMet){
    // Работа включена или нет привязки — обычный toggle
    m.enabled=!m.enabled;
    m.manualOn=false;
  }else{
    // Работа выключена, но есть привязка — ручное включение/выключение
    if(m.manualOn){m.manualOn=false;}
    else{m.manualOn=true;m.enabled=true;}
  }
  saveState();renderMC();
}
function rmLink(mi,li){S.materials[mi].links.splice(li,1);saveState();renderMC();updateDbPanel();}

function addLink(mi){
  const inp=$("linkInp"+mi),prInp=$("linkPr"+mi),ttInp=$("linkTt"+mi);
  let url=(inp&&inp.value||"").trim();
  const price=Math.round(parseFloat(prInp&&prInp.value)||0);
  const title=(ttInp&&ttInp.value||"").trim();
  if(!url&&!price&&!title)return;
  if(!price){alert("Укажите цену");return;}
  if(url&&!url.startsWith("http"))url="https://"+url;
  S.materials[mi].links.push({url:url||"",price,updated:now(),note:"",title:title,history:[]});
  // Save price and title directly to material
  S.materials[mi].price=price;
  if(title)S.materials[mi].productTitle=title;
  saveState();
  if(inp)inp.value="";if(prInp)prInp.value="";if(ttInp)ttInp.value="";
  renderMC();updateDbPanel();
}

// ═══ LINK EDIT MODAL ═══
let leMatIdx=-1,leLinkIdx=-1;
function openLinkEd(mi,li){
  leMatIdx=mi;leLinkIdx=li;
  const l=S.materials[mi].links[li];
  $("leUrl").value=l.url;
  $("lePrice").value=l.price||"";
  $("leNote").value=l.note||"";
  $("leTitle").value=l.title||"";
  $("leMo").classList.add("open");
}
function closeLinkEd(){$("leMo").classList.remove("open");}
function saveLinkEd(){
  if(leMatIdx<0||leLinkIdx<0)return;
  const l=S.materials[leMatIdx].links[leLinkIdx];
  const newPrice=Math.round(parseFloat($("lePrice").value)||0);
  if(newPrice>0&&l.price>0&&newPrice!==l.price){
    if(!l.history)l.history=[];
    l.history.push({price:l.price,date:now()});
    if(l.history.length>10)l.history.shift();
  }
  l.url=$("leUrl").value.trim()||l.url;
  l.price=newPrice;
  l.note=$("leNote").value.trim();
  l.title=$("leTitle").value.trim();
  l.updated=now();
  // Sync price and title to material
  if(newPrice>0)S.materials[leMatIdx].price=newPrice;
  if(l.title)S.materials[leMatIdx].productTitle=l.title;
  saveState();
  closeLinkEd();
  renderMC();updateDbPanel();
  if($("s3").classList.contains("on"))renderResult();
}

// ═══ MAT ADD MODAL (only for new materials) ═══
let meIdx=-1;
function openMatEd(i){
  if(i>=0)return; // no editing existing — only add new
  meIdx=-1;
  $("meTitle").textContent="Новый материал";
  $("meN").value="";$("meP").value="";$("meU").value="шт";
  $("meR").value="";$("meFQ").value="";
  $("meMo").classList.add("open");
}
function closeMatEd(){$("meMo").classList.remove("open");meIdx=-1;}
function saveMatEd(){
  const n=$("meN").value.trim();if(!n)return;
  const o={id:"custom_"+Date.now(),name:n,price:parseFloat($("meP").value)||0,unit:$("meU").value.trim()||"шт",rate:parseFloat($("meR").value)||0,enabled:true,links:[]};
  const fq=parseInt($("meFQ").value)||0;if(fq>0)o.fixedQty=fq;
  S.materials.push(o);
  saveState();closeMatEd();renderMC();updateDbPanel();
  if($("s3").classList.contains("on"))renderResult();
}

// ═══ DB PANEL ═══
let dbOpen=false;
function toggleDbPanel(){/* removed */}

function updateDbPanel(){/* panel removed */}

function refreshAllPrices(){
  const urls=[];
  S.materials.forEach(m=>(m.links||[]).forEach(l=>{if(l.url)urls.push(l.url);}));
  if(!urls.length){alert("Нет ссылок для обновления");return;}
  if(confirm(`Открыть ${urls.length} ссылок в новых вкладках?\n\nПроверьте цены на каждой странице,\nзатем обновите их через ✏️`)){
    urls.forEach(u=>window.open(u,"_blank"));
  }
}

function openAllLinksForRefresh(){
  const urls=[];
  S.materials.forEach(m=>(m.links||[]).forEach(l=>{if(l.url)urls.push(l.url);}));
  if(!urls.length){alert("Нет ссылок");return;}
  if(confirm(`Открыть ${urls.length} ссылок для проверки цен?`)){
    urls.forEach(u=>window.open(u,"_blank"));
  }
}

function exportDb(){
  const data={version:2,exported:new Date().toISOString(),materials:S.materials.map(m=>({id:m.id,name:m.name,price:m.price,unit:m.unit,rate:m.rate,links:m.links||[],fixedQty:m.fixedQty,cond:m.cond}))};
  const blob=new Blob([JSON.stringify(data,null,2)],{type:"application/json"});
  const a=document.createElement("a");
  a.href=URL.createObjectURL(blob);
  a.download="tilecalc_db_"+new Date().toISOString().slice(0,10)+".json";
  a.click();URL.revokeObjectURL(a.href);
}

function importDb(event){
  const f=event.target.files[0];if(!f)return;
  const reader=new FileReader();
  reader.onload=function(e){
    try{
      const data=JSON.parse(e.target.result);
      if(!data.materials||!Array.isArray(data.materials)){alert("Неверный формат файла");return;}
      if(!confirm(`Импортировать ${data.materials.length} материалов?\n\nСсылки будут объединены с текущими.`))return;

      data.materials.forEach(imp=>{
        const existing=S.materials.find(m=>m.id===imp.id);
        if(existing){
          // Merge links
          (imp.links||[]).forEach(il=>{
            const dup=existing.links.find(el=>el.url===il.url);
            if(!dup){
              existing.links.push({url:il.url,price:il.price,updated:il.updated||now(),note:il.note||"",history:il.history||[]});
            }else if(il.price&&il.updated>dup.updated){
              if(dup.price!==il.price){
                if(!dup.history)dup.history=[];
                dup.history.push({price:dup.price,date:now()});
              }
              dup.price=il.price;dup.updated=il.updated;
            }
          });
          if(imp.price)existing.price=imp.price;
        }else{
          // Add new material
          S.materials.push({
            id:imp.id||"imp_"+Date.now()+"_"+Math.random().toString(36).slice(2,6),
            name:imp.name,price:imp.price||0,unit:imp.unit||"шт",
            rate:imp.rate||0,enabled:true,
            links:(imp.links||[]).map(l=>({url:l.url,price:l.price||0,updated:l.updated||now(),note:l.note||"",history:l.history||[]})),
            fixedQty:imp.fixedQty,cond:imp.cond
          });
        }
      });
      saveState();renderMC();updateDbPanel();
      alert("Импорт завершён!");
    }catch(err){alert("Ошибка чтения файла: "+err.message);}
  };
  reader.readAsText(f);
  event.target.value="";
}

function clearAllLinks(){
  const t=totalLinks();
  if(!t.count){alert("Нет ссылок");return;}
  if(!confirm(`Удалить все ${t.count} ссылок? Это действие нельзя отменить.`))return;
  S.materials.forEach(m=>m.links=[]);
  saveState();renderMC();updateDbPanel();
}

// ═══ RESULT ═══
function tileInfoStr(){
  var tw=parseFloat($("iTW").value)||0,th=parseFloat($("iTH").value)||0;
  if(tw<=0||th<=0)return"";
  var grebMm=autoGrebMm(),toothMm=Math.round(grebMm*3),layerR=r1(grebMm);
  return `гребёнка ${toothMm}мм → слой ~${layerR}мм`;
}
function renderResult(){
  const wk=calcW(),{l,w}=gv();
  const wl=[{n:TILE_WORK.name,q:wk,u:TILE_WORK.unit,p:TILE_WORK.price,s:Math.round(wk*TILE_WORK.price),t:"",idx:-1}];
  S.works.forEach((w,i)=>{if(!w.enabled)return;const q=wQty(w,wk);if(q<=0&&w.type!=="fixed")return;wl.push({n:w.name,q,u:w.unit,p:w.price,s:Math.round(q*w.price),t:w.title||"",idx:i});});
  const wt=wl.reduce((a,x)=>a+x.s,0);

  let wh="";
  wl.forEach((x,idx)=>{
    const even=idx%2===0;
    wh+=`<div style="display:flex;align-items:center;padding:10px 16px;${even?'background:rgba(245,158,11,.04);':''}border-radius:8px;margin-bottom:2px">
      <div style="flex:1;min-width:0">
        <div style="font-weight:700;font-size:14px">${esc(x.n)}</div>
        <div style="font-size:11px;color:var(--dim);margin-top:2px">${x.t?'<span style="color:var(--accent);font-weight:600">'+esc(x.t)+'</span> · ':''}<span>${x.q} ${esc(x.u)} × ${fmt(x.p)} грн</span></div>
      </div>
      <div style="font-weight:800;font-size:15px;white-space:nowrap;margin-left:12px">${fmt(x.s)} грн</div>
      ${x.idx>=0?'<button onclick="removeWorkResult('+x.idx+')" style="background:none;border:none;cursor:pointer;font-size:13px;padding:4px 8px;color:var(--err);margin-left:6px">✕</button>':''}
    </div>`;
  });
  $("wRows").innerHTML=wh;$("whTotal").textContent=fmt(wt)+" грн";

  const ei=eIds(),ml=[];
  if(wk>0) S.materials.forEach((m,i)=>{
    if(!m.enabled)return;
    const condMet=!m.cond||ei.has(m.cond);
    if(!condMet&&!m.manualOn)return;
    const p=matPrice(m),q=matQty(m,wk);if(q<=0)return;
    const best=matBest(m);
    const linksWithPrice=(m.links||[]).filter(l=>l.price>0);
    ml.push({name:m.name,qty:q,unit:m.unit,price:p,sum:Math.round(q*p),best,links:m.links||[],hasL:linksWithPrice.length>0,linksWithPrice,idx:i,productTitle:m.productTitle||""});
  });

  const mt=ml.reduce((a,x)=>a+x.sum,0);

  let mh="";
  ml.forEach((x,idx)=>{
    const title=x.productTitle||(x.best?(x.best.title||x.best.note||""):(x.linksWithPrice.length>0?(x.linksWithPrice[0].title||x.linksWithPrice[0].note||""):""));
    const even=idx%2===0;
    // Add tile info for adhesive row
    var matTileHint="";
    var mObj=S.materials[x.idx];
    if(mObj&&mObj.id==="adhesive"){var ti=tileInfoStr();if(ti)matTileHint=` · <span style="color:var(--link)">${ti}</span>`;}
    if(mObj&&(mObj.id==="groutCement"||mObj.id==="groutEpoxy")){var tw=parseFloat($("iTW").value)||0,th=parseFloat($("iTH").value)||0;if(tw>0&&th>0){var td=parseFloat($("iTD").value)||8,gap=parseFloat($("iGap").value)||2;var dens=mObj.id==="groutEpoxy"?1.55:1.8;var kgm2=r1((tw+th)/(tw*th)*td*gap*dens);matTileHint=` · <span style="color:var(--link)">${tw}×${th} · шов ${gap}мм · ~${kgm2} кг/м²</span>`;}}
    if(mObj&&(mObj.id==="svpBase"||mObj.id==="svpWedge")){var tw=parseFloat($("iTW").value)||0,th=parseFloat($("iTH").value)||0;if(tw>0&&th>0){var perTile=Math.round(tw/150)+Math.round(th/150);var totalPcs=Math.ceil(perTile/(tw/1000*th/1000)*calcW()*1.1);if(mObj.id==="svpWedge")totalPcs=Math.ceil(totalPcs/3);matTileHint=` · <span style="color:var(--link)">~${totalPcs} шт · шаг 150мм</span>`;}}
    if(mObj&&mObj.id==="silicone"){var sw=S.works.find(w=>w.id==="seal");if(sw&&sw.qty>0)matTileHint=` · <span style="color:var(--link)">${sw.qty} м.п. · шов 4×4мм</span>`;}
    if(mObj&&mObj.id==="primer"&&mObj.primerRate){var pLiters=r1(mObj.primerRate*calcW());var pVol=pLiters<=5?"5л":"10л";matTileHint=` · <span style="color:var(--link)">~${pLiters}л · ${x.qty}×${pVol}</span>`;}
    mh+=`<div style="display:flex;align-items:center;padding:10px 16px;${even?'background:rgba(16,185,129,.04);':''}border-radius:8px;margin-bottom:2px">
      <div style="flex:1;min-width:0">
        <div style="font-weight:700;font-size:14px">${esc(x.name)}</div>
        <div style="font-size:11px;color:var(--dim);margin-top:2px">${title?'<span style="color:var(--ok);font-weight:600">'+esc(title)+'</span> · ':''}<span>${x.qty} ${esc(x.unit)} × ${fmt(x.price)} грн</span>${matTileHint}</div>
      </div>
      <div style="font-weight:800;font-size:15px;white-space:nowrap;margin-left:12px">${fmt(x.sum)} грн</div>
      <button onclick="removeMatResult(${x.idx})" style="background:none;border:none;cursor:pointer;font-size:13px;padding:4px 8px;color:var(--err);margin-left:6px">✕</button>
    </div>`;
  });

  if(!ml.length)mh=`<div style="text-align:center;color:var(--dim);padding:20px">Нет активных материалов</div>`;
  $("mRows").innerHTML=mh;$("mhTotal").textContent=fmt(mt)+" грн";
  $("tWork").textContent=fmt(wt)+" грн";$("tMat").textContent=fmt(mt)+" грн";

  $("infoBar").textContent=`Площадь: ${wk} м² · ${l}×${w} м · H=${H} м`;
}

function removeWorkResult(i){S.works[i].enabled=false;saveState();renderResult();}
function removeMatResult(i){S.materials[i].enabled=false;S.materials[i].manualOn=false;saveState();renderResult();}

function toggleSec(id,hdr){const el=$(id),o=el.style.display!=="none";el.style.display=o?"none":"block";const arrow=hdr.querySelector(".sec-arrow");if(arrow){arrow.textContent=o?"▼":"▲";}}

function toggleExMenu(id,ev){var m=$(id);var open=m.style.display!=="none";closeExMenus();if(!open){var btn=ev?ev.currentTarget||ev.target:null;if(btn){var r=btn.getBoundingClientRect();m.style.top=(r.bottom+4)+"px";m.style.right=(window.innerWidth-r.right)+"px";m.style.left="auto";}m.style.display="block";}}
function closeExMenus(){var menus=document.querySelectorAll(".ex-menu");menus.forEach(function(m){m.style.display="none";});}
document.addEventListener("click",function(e){if(!e.target.closest(".ex-menu")&&!e.target.closest("[onclick*=toggleExMenu]"))closeExMenus();});

// ═══ EXPORT ═══
function buildEstimateText(){
  const wk=calcW(),{l,w}=gv();
  const ei=eIds();
  const masterName=S._masterName||"";
  const masterPhone=S._masterPhone||"";
  let txt=`РАСЧЕТНЫЙ ЛИСТ\n`;
  txt+=`${"═".repeat(35)}\n`;
  if(masterName)txt+=`Мастер: ${masterName}`;
  if(masterPhone)txt+=` · ${masterPhone}`;
  if(masterName||masterPhone)txt+=`\n`;
  txt+=`Площадь: ${wk} м² (${l}×${w} м, H=${H} м)\n`;
  var tw=parseFloat($("iTW").value)||0,th=parseFloat($("iTH").value)||0;
  if(tw>0&&th>0){
    txt+=`Плитка: ${tw}×${th} мм · шов ${parseFloat($("iGap").value)||2} мм\n`;
  }
  txt+=`\n`;

  // Работы
  txt+=`🔧 РАБОТЫ\n${"─".repeat(35)}\n`;
  const wl=[{n:TILE_WORK.name,q:wk,u:TILE_WORK.unit,p:TILE_WORK.price,s:Math.round(wk*TILE_WORK.price)}];
  S.works.forEach(ww=>{if(!ww.enabled)return;const q=wQty(ww,wk);if(q<=0&&ww.type!=="fixed")return;wl.push({n:ww.name,q,u:ww.unit,p:ww.price,s:Math.round(q*ww.price)});});
  wl.forEach(x=>{txt+=`${x.n}: ${x.q} ${x.u} × ${x.p} грн = ${fmt(x.s)} грн\n`;});
  const wt=wl.reduce((a,x)=>a+x.s,0);
  txt+=`\nИтого работа: ${fmt(wt)} грн\n\n`;

  // Материалы
  txt+=`📦 МАТЕРИАЛЫ\n${"─".repeat(35)}\n`;
  const ml=[];
  S.materials.forEach(m=>{
    if(!m.enabled)return;
    const condMet=!m.cond||ei.has(m.cond);
    if(!condMet&&!m.manualOn)return;
    const p=matPrice(m),q=matQty(m,wk);if(q<=0)return;
    var hint="";
    if(m.id==="adhesive"){var ti=tileInfoStr();if(ti)hint=" ("+ti+")";}
    if((m.id==="groutCement"||m.id==="groutEpoxy")&&tw>0&&th>0){hint=` (плитка ${tw}×${th} · шов ${parseFloat($("iGap").value)||2}мм)`;}
    if((m.id==="svpBase"||m.id==="svpWedge")&&tw>0&&th>0){var perTile=Math.round(tw/150)+Math.round(th/150);var totalPcs=Math.ceil(perTile/(tw/1000*th/1000)*wk*1.1);if(m.id==="svpWedge")totalPcs=Math.ceil(totalPcs/3);hint=` (~${totalPcs} шт · шаг 150мм)`;}
    if(m.id==="silicone"){var sw=S.works.find(w=>w.id==="seal");if(sw&&sw.qty>0)hint=` (${sw.qty} м.п. · шов 4×4мм)`;}
    if(m.id==="primer"&&m.primerRate){var pL=r1(m.primerRate*wk);var pV=pL<=5?"5л":"10л";hint=` (~${pL}л · ${q}×${pV})`;}
    ml.push({name:m.name,qty:q,unit:m.unit,price:p,sum:Math.round(q*p),hint});
  });
  ml.forEach(x=>{txt+=`${x.name}: ${x.qty} ${x.unit} × ${x.price} грн = ${fmt(x.sum)} грн${x.hint||""}\n`;});
  const mt=ml.reduce((a,x)=>a+x.sum,0);
  txt+=`\nИтого материалы: ${fmt(mt)} грн\n`;
  txt+=`\n${"═".repeat(35)}\n`;
  txt+=`ОБЩАЯ СТОИМОСТЬ: ${fmt(wt+mt)} грн\n`;
  txt+=`(работа: ${fmt(wt)} + материалы: ${fmt(mt)})\n`;
  txt+=`${"═".repeat(35)}\n`;
  txt+=`\nДата: ${new Date().toLocaleDateString("uk-UA")}\n`;
  return txt;
}

function exportPDF(mode){
  mode=mode||"all";
  const wk=calcW(),{l,w}=gv(),ei=eIds();
  const estNum=new Date().getFullYear()+"-"+String(Date.now()).slice(-6);
  const dateStr=new Date().toLocaleDateString("uk-UA");
  const masterName=S._masterName||"";
  const masterPhone=S._masterPhone||"";
  const masterNote=S._masterNote||"";
  const hasMaster=masterName||masterPhone;

  let html=`<!DOCTYPE html><html><head><meta charset="utf-8"><title>Смета ${estNum}</title>
<style>body{font-family:Arial,sans-serif;padding:40px;color:#222;font-size:14px;max-width:700px;margin:0 auto}
.header{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px;padding-bottom:14px;border-bottom:2px solid #10b981}
.header-left{display:flex;align-items:center;gap:14px}
.header-left h1{font-size:22px;margin:0}
.header-left .sub{color:#666;font-size:12px;margin-top:2px}
.header-right{text-align:right;font-size:13px;color:#444}
.header-right .name{font-weight:700;font-size:15px;color:#222}
.est-info{display:flex;justify-content:space-between;margin-bottom:18px;font-size:12px;color:#666}
table{width:100%;border-collapse:collapse;margin-bottom:20px}
th{background:#f8f8f8;color:#333;padding:8px 10px;text-align:left;font-size:12px;font-weight:700;border-bottom:2px solid #e5e7eb}
th:nth-child(1){width:auto}th:nth-child(2){width:80px;text-align:center}th:nth-child(3){width:80px;text-align:right}th:nth-child(4){width:90px;text-align:right}
td{padding:7px 10px;border-bottom:1px solid #eee;font-size:13px;vertical-align:top}
td:nth-child(2){text-align:center;white-space:nowrap}td:nth-child(3){text-align:right;white-space:nowrap}td:nth-child(4){text-align:right;white-space:nowrap;font-weight:600}
.total-row td{font-weight:700;background:#10b981;color:#fff;border-top:none;font-size:14px;padding:10px}
.grand{background:#ecfdf5;border:2px solid #10b981;border-radius:10px;padding:16px 20px;text-align:center;margin:20px 0}
.grand b{font-size:28px;color:#059669}
.footer{color:#999;font-size:11px;margin-top:30px;border-top:1px solid #eee;padding-top:10px;display:flex;justify-content:space-between}
@media print{body{padding:20px}}</style></head><body>
<div class="header"><div class="header-left"><img src="${LOGO_B64}" style="width:56px;height:56px;border-radius:50%;object-fit:cover"><div><h1>Расчетный лист</h1><div class="sub">Площадь: ${wk} м² · ${l}×${w} м · H=${H} м</div></div></div>`;
  if(hasMaster){
    html+=`<div class="header-right">`;
    if(masterName)html+=`<div class="name">${esc(masterName)}</div>`;
    if(masterPhone)html+=`<div>${esc(masterPhone)}</div>`;
    if(masterNote)html+=`<div style="font-size:11px;color:#888">${esc(masterNote)}</div>`;
    html+=`</div>`;
  }
  html+=`</div>`;
  html+=`<div class="est-info"><span>Смета № ${estNum}</span><span>Дата: ${dateStr}</span></div>`;

  let wt=0,mt=0;
  if(mode==="all"||mode==="works"){
    const workGroups={tile:"Облицовка",cut:"Подрезка",install:"Изделие",finish:"Финишные работы"};
    const wGroupOrder=["tile","cut","install","finish"];
    const wl=[];
    wl.push({n:TILE_WORK.name,q:wk,u:TILE_WORK.unit,p:TILE_WORK.price,s:Math.round(wk*TILE_WORK.price),grp:"tile",hint:"",t:""});
    S.works.forEach(ww=>{if(!ww.enabled)return;const q=wQty(ww,wk);if(q<=0&&ww.type!=="fixed")return;
      var grp=ww.workGroup||BASE_WORKS.find(b=>b.id===ww.id)?.workGroup||"finish";
      wl.push({n:ww.name,q,u:ww.unit,p:ww.price,s:Math.round(q*ww.price),grp,hint:"",t:ww.title||""});
    });
    html+=`<h2 style="font-size:20px;margin:24px 0 10px;color:#222">Работы</h2><table><tr><th>Наименование</th><th>Кол-во</th><th>Цена</th><th>Сумма</th></tr>`;
    function workTdRow(x){
      let nameTd='<td style="padding:8px 10px"><div style="font-weight:500;font-size:13px;line-height:1.3">'+esc(x.n)+'</div>';
      if(x.t)nameTd+='<div style="color:#d97706;font-size:11px;line-height:1.3;margin-top:2px">'+esc(x.t)+'</div>';
      if(x.hint)nameTd+='<div style="color:#888;font-size:10px;line-height:1.3;margin-top:1px">'+x.hint+'</div>';
      nameTd+='</td>';
      return '<tr>'+nameTd+'<td>'+x.q+' '+esc(x.u)+'</td><td style="white-space:nowrap">'+fmt(x.p)+' грн</td><td style="white-space:nowrap">'+fmt(x.s)+' грн</td></tr>';
    }
    wGroupOrder.forEach(gk=>{
      var items=wl.filter(x=>x.grp===gk);
      if(!items.length)return;
      html+=`<tr><td colspan="4" style="background:#f8f8f8;font-weight:800;font-size:13px;color:#333;padding:8px 10px;border-bottom:2px solid #e5e7eb">${workGroups[gk]||gk}</td></tr>`;
      items.forEach(x=>{html+=workTdRow(x);});
    });
    var wUngrouped=wl.filter(x=>!wGroupOrder.includes(x.grp));
    wUngrouped.forEach(x=>{html+=workTdRow(x);});
    wt=wl.reduce((a,x)=>a+x.s,0);
    html+=`<tr class="total-row"><td colspan="3">Итого работа</td><td>${fmt(wt)} грн</td></tr></table>`;
  }
  if(mode==="all"||mode==="mats"){
    function matTdRow(x){
      let nameTd='<td style="padding:8px 10px"><div style="font-weight:500;font-size:13px;line-height:1.3">'+esc(x.name)+'</div>';
      if(x.pt)nameTd+='<div style="color:#059669;font-size:11px;line-height:1.3;margin-top:2px">'+esc(x.pt)+'</div>';
      if(x.hint)nameTd+='<div style="color:#888;font-size:10px;line-height:1.3;margin-top:1px">'+x.hint+'</div>';
      nameTd+='</td>';
      return '<tr>'+nameTd+'<td>'+x.qty+' '+esc(x.unit)+'</td><td style="white-space:nowrap">'+fmt(x.price)+' грн</td><td style="white-space:nowrap">'+fmt(x.sum)+' грн</td></tr>';
    }
    const matGroups={tile:"Облицовка",grout:"Затирка",consumables:"Расходники",seal:"Герметизация",hydro:"Гидроизоляция"};
    const groupOrder=["tile","grout","consumables","seal","hydro"];
    const ml=[];
    S.materials.forEach(m=>{
      if(!m.enabled)return;const condMet=!m.cond||ei.has(m.cond);
      if(!condMet&&!m.manualOn)return;
      const p=matPrice(m),q=matQty(m,wk);if(q<=0)return;
      var hint="";
      var tw=parseFloat($("iTW").value)||0,th=parseFloat($("iTH").value)||0;
      if(m.id==="adhesive"&&tw>0&&th>0){var gm=autoGrebMm();hint=`гребёнка ${Math.round(gm*3)}мм → слой ~${r1(gm)}мм`;}
      if((m.id==="groutCement"||m.id==="groutEpoxy")&&tw>0&&th>0){var td=parseFloat($("iTD").value)||8,gap=parseFloat($("iGap").value)||2;var dens=m.id==="groutEpoxy"?1.55:1.8;var kgm2=r1((tw+th)/(tw*th)*td*gap*dens);hint=`${tw}×${th} · шов ${gap}мм · ~${kgm2} кг/м²`;}
      if((m.id==="svpBase"||m.id==="svpWedge")&&tw>0&&th>0){var perTile=Math.round(tw/150)+Math.round(th/150);var totalPcs=Math.ceil(perTile/(tw/1000*th/1000)*wk*1.1);if(m.id==="svpWedge")totalPcs=Math.ceil(totalPcs/3);hint=`~${totalPcs} шт · шаг 150мм`;}
      if(m.id==="silicone"){var sw=S.works.find(w=>w.id==="seal");if(sw&&sw.qty>0)hint=`${sw.qty} м.п. · шов 4×4мм`;}
      if(m.id==="primer"){var pL=r1((m.primerRate||0.15)*wk);var pV=pL<=5?"5л":"10л";hint=`~${pL}л · ${q}×${pV}`;}
      var grp=m.matGroup||BASE_MATS.find(b=>b.id===m.id)?.matGroup||"consumables";
      ml.push({name:m.name,qty:q,unit:m.unit,price:p,sum:Math.round(q*p),pt:m.productTitle||"",hint,grp});
    });
    html+=`<h2 style="font-size:20px;margin:24px 0 10px;color:#222">Материалы</h2>`;
    html+=`<table><tr><th>Наименование</th><th>Кол-во</th><th>Цена</th><th>Сумма</th></tr>`;
    groupOrder.forEach(gk=>{
      var items=ml.filter(x=>x.grp===gk);
      if(!items.length)return;
      html+=`<tr><td colspan="4" style="background:#f8f8f8;font-weight:800;font-size:13px;color:#333;padding:8px 10px;border-bottom:2px solid #e5e7eb">${matGroups[gk]||gk}</td></tr>`;
      items.forEach(x=>{html+=matTdRow(x);});
    });
    // ungrouped items
    var ungrouped=ml.filter(x=>!groupOrder.includes(x.grp));
    ungrouped.forEach(x=>{html+=matTdRow(x);});
    mt=ml.reduce((a,x)=>a+x.sum,0);
    html+=`<tr class="total-row"><td colspan="3">Итого материалы</td><td>${fmt(mt)} грн</td></tr></table>`;
  }
  const gt=mode==="works"?wt:mode==="mats"?mt:wt+mt;
  html+=`<div class="grand">${mode==="works"?"СТОИМОСТЬ РАБОТ":mode==="mats"?"СТОИМОСТЬ МАТЕРИАЛОВ":"ОБЩАЯ СТОИМОСТЬ"}<br><b>${fmt(gt)} грн</b>`;
  if(mode==="all")html+=`<br><span style="font-size:13px;color:#666">работа: ${fmt(wt)} + материалы: ${fmt(mt)}</span>`;
  html+=`</div><div class="footer"><span>Смета № ${estNum} · ${dateStr}</span><span>Powered by Tiler's Assistant by pro.tiler.od</span></div><script>if('serviceWorker' in navigator)navigator.serviceWorker.register('sw.js');</script>
</body></html>`;

  const sfx=mode==="works"?"_raboty":mode==="mats"?"_materialy":"";
  const blob=new Blob([html],{type:"text/html;charset=utf-8"});
  const a=document.createElement("a");
  a.href=URL.createObjectURL(blob);
  a.download="smeta"+sfx+"_"+estNum+".html";
  document.body.appendChild(a);a.click();document.body.removeChild(a);
  URL.revokeObjectURL(a.href);
}

function shareTxt(){
  const txt=buildEstimateText();
  if(navigator.share){
    navigator.share({title:"Расчетный лист",text:txt}).catch(()=>{});
  }else if(navigator.clipboard){
    navigator.clipboard.writeText(txt).then(()=>{alert("Скопировано в буфер обмена!")}).catch(()=>fallbackCopy(txt));
  }else{fallbackCopy(txt);}
}
function fallbackCopy(txt){
  const ta=document.createElement("textarea");ta.value=txt;document.body.appendChild(ta);ta.select();document.execCommand("copy");document.body.removeChild(ta);alert("Скопировано в буфер обмена!");
}

function exportCSV(){
  const wk=calcW(),{l,w}=gv(),ei=eIds();
  const sep=";";
  let csv="\uFEFF"; // BOM for Excel
  csv+="Категория"+sep+"Наименование"+sep+"Товар"+sep+"Кол-во"+sep+"Ед."+sep+"Цена (грн)"+sep+"Сумма (грн)\n";

  // Works
  csv+="Работа"+sep+esc2(TILE_WORK.name)+sep+""+sep+wk+sep+esc2(TILE_WORK.unit)+sep+TILE_WORK.price+sep+Math.round(wk*TILE_WORK.price)+"\n";
  S.works.forEach(ww=>{if(!ww.enabled)return;const q=wQty(ww,wk);if(q<=0&&ww.type!=="fixed")return;csv+="Работа"+sep+esc2(ww.name)+sep+esc2(ww.title||"")+sep+q+sep+esc2(ww.unit)+sep+ww.price+sep+Math.round(q*ww.price)+"\n";});

  // Materials
  S.materials.forEach(m=>{
    if(!m.enabled)return;const condMet=!m.cond||ei.has(m.cond);
    if(!condMet&&!m.manualOn)return;
    const p=matPrice(m),q=matQty(m,wk);if(q<=0)return;
    csv+="Материал"+sep+esc2(m.name)+sep+esc2(m.productTitle||"")+sep+q+sep+esc2(m.unit)+sep+p+sep+Math.round(q*p)+"\n";
  });

  const blob=new Blob([csv],{type:"text/csv;charset=utf-8"});
  const a=document.createElement("a");
  a.href=URL.createObjectURL(blob);
  a.download="smeta_"+new Date().toISOString().slice(0,10)+".csv";
  document.body.appendChild(a);a.click();document.body.removeChild(a);
  URL.revokeObjectURL(a.href);
}
function esc2(s){s=String(s||"");if(s.indexOf(";")>=0||s.indexOf('"')>=0||s.indexOf("\n")>=0)return'"'+s.replace(/"/g,'""')+'"';return s;}

// ═══ HISTORY ═══
function getHistory(){try{return JSON.parse(localStorage.getItem("tilecalc_history")||"[]");}catch(e){return[];}}
function setHistory(h){try{localStorage.setItem("tilecalc_history",JSON.stringify(h));}catch(e){}}

function saveToHistory(){
  const wk=calcW(),{l,w}=gv(),ei=eIds();
  const wl=[{n:TILE_WORK.name,q:wk,u:TILE_WORK.unit,p:TILE_WORK.price,s:Math.round(wk*TILE_WORK.price)}];
  S.works.forEach(ww=>{if(!ww.enabled)return;const q=wQty(ww,wk);if(q<=0&&ww.type!=="fixed")return;wl.push({n:ww.name,q,u:ww.unit,p:ww.price,s:Math.round(q*ww.price)});});
  const wt=wl.reduce((a,x)=>a+x.s,0);
  const ml=[];
  S.materials.forEach(m=>{if(!m.enabled)return;const condMet=!m.cond||ei.has(m.cond);if(!condMet&&!m.manualOn)return;const p=matPrice(m),q=matQty(m,wk);if(q<=0)return;ml.push({name:m.name,qty:q,unit:m.unit,price:p,sum:Math.round(q*p)});});
  const mt=ml.reduce((a,x)=>a+x.sum,0);

  const name=prompt("Название сметы:",`${l}×${w} м — ${new Date().toLocaleDateString("uk-UA")}`);
  if(!name)return;

  const entry={
    id:Date.now(),
    name:name,
    date:new Date().toISOString(),
    dims:{l,w,d:parseFloat($("iD").value)||0},
    area:wk,
    workTotal:wt,
    matTotal:mt,
    grandTotal:wt+mt,
    state:JSON.parse(JSON.stringify(S)),
    inputL:$("iL").value,
    inputW:$("iW").value,
    inputD:$("iD").value,
    inputTW:$("iTW").value,
    inputTH:$("iTH").value,
    inputTD:$("iTD").value,
    inputGap:$("iGap").value
  };

  const hist=getHistory();
  hist.unshift(entry);
  if(hist.length>20)hist.pop();
  setHistory(hist);
  alert("Смета сохранена!");
}

function renderHistory(){
  const hist=getHistory();
  if(!hist.length){$("historyList").innerHTML="";return;}
  let h='<div style="margin-top:4px;margin-bottom:8px;font-weight:700;font-size:15px;display:flex;justify-content:space-between;align-items:center"><span>📋 История смет</span><button onclick="clearHistory()" style="background:none;border:none;color:var(--dim);font-size:11px;cursor:pointer;font-family:inherit">очистить</button></div>';
  hist.forEach((e,i)=>{
    const d=new Date(e.date);
    const dateStr=d.toLocaleDateString("uk-UA")+" "+d.toLocaleTimeString("uk-UA",{hour:"2-digit",minute:"2-digit"});
    h+=`<div class="hi-card">
      <div class="hi-title">${esc(e.name)}</div>
      <div class="hi-sub">${dateStr} · ${e.area} м² · работа: ${fmt(e.workTotal)} + мат: ${fmt(e.matTotal)}</div>
      <div class="hi-price">${fmt(e.grandTotal)} грн</div>
      <div class="hi-actions">
        <button onclick="event.stopPropagation();loadHistory(${i})">📂 Загрузить</button>
        <button onclick="event.stopPropagation();duplicateHistory(${i})">📋 Копия</button>
        <button onclick="event.stopPropagation();renameHistory(${i})">✏️ Имя</button>
        <button class="del" onclick="event.stopPropagation();deleteHistory(${i})">✕</button>
      </div>
    </div>`;
  });
  $("historyList").innerHTML=h;
}

function loadHistory(i){
  const hist=getHistory();
  const e=hist[i];if(!e)return;
  S=JSON.parse(JSON.stringify(e.state));
  saveState();
  $("iL").value=e.inputL||e.dims.l;
  $("iW").value=e.inputW||e.dims.w;
  $("iD").value=e.inputD||e.dims.d;
  if(e.inputTW)$("iTW").value=e.inputTW;
  if(e.inputTH)$("iTH").value=e.inputTH;
  if(e.inputTD)$("iTD").value=e.inputTD;
  if(e.inputGap)$("iGap").value=e.inputGap;
  updGeo();
  go(2);
}

function duplicateHistory(i){
  const hist=getHistory();
  const e=JSON.parse(JSON.stringify(hist[i]));if(!e)return;
  e.id=Date.now();
  e.name=e.name+" (копия)";
  e.date=new Date().toISOString();
  hist.splice(i+1,0,e);
  setHistory(hist);
  renderHistory();
}

function renameHistory(i){
  const hist=getHistory();
  const name=prompt("Новое название:",hist[i].name);
  if(!name)return;
  hist[i].name=name;
  setHistory(hist);
  renderHistory();
}

function deleteHistory(i){
  const hist=getHistory();
  hist.splice(i,1);
  setHistory(hist);
  renderHistory();
}

function clearHistory(){
  const hist=getHistory();
  if(!hist.length)return;
  if(!confirm("Удалить всю историю ("+hist.length+" записей)?"))return;
  setHistory([]);
  renderHistory();
}

// ═══ SYNC ═══
function exportAllData(){
  var data={
    state:S,
    history:getHistory(),
    dims:{l:$("iL").value,w:$("iW").value,d:$("iD").value,tw:$("iTW").value,th:$("iTH").value,td:$("iTD").value,gap:$("iGap").value},
    tilePrice:TILE_WORK.price,
    ceilingH:H,
    version:"tilecalc_export_v2",
    date:new Date().toISOString()
  };
  var blob=new Blob([JSON.stringify(data,null,2)],{type:"application/json"});
  var a=document.createElement("a");
  a.href=URL.createObjectURL(blob);
  a.download="tilecalc_data_"+new Date().toISOString().slice(0,10)+".json";
  document.body.appendChild(a);a.click();document.body.removeChild(a);
  URL.revokeObjectURL(a.href);
}

function importAllData(event){
  var f=event.target.files[0];if(!f)return;
  var reader=new FileReader();
  reader.onload=function(e){
    try{
      var data=JSON.parse(e.target.result);
      if(data.state&&data.state.materials){
        S=data.state;
        if(data.tilePrice)TILE_WORK.price=data.tilePrice;
        if(data.ceilingH)H=data.ceilingH;
        S._tilePrice=TILE_WORK.price;
        S._H=H;
        saveState();
        if(data.history){setHistory(data.history);}
        if(data.dims){
          $("iL").value=data.dims.l||"";
          $("iW").value=data.dims.w||"";
          $("iD").value=data.dims.d||"0";
          if(data.dims.tw)$("iTW").value=data.dims.tw;
          if(data.dims.th)$("iTH").value=data.dims.th;
          if(data.dims.td)$("iTD").value=data.dims.td;
          if(data.dims.gap)$("iGap").value=data.dims.gap;
        }
        updGeo();renderHistory();
        alert("Данные импортированы!");
      }else{
        alert("Неверный формат файла");
      }
    }catch(err){alert("Ошибка: "+err.message);}
  };
  reader.readAsText(f);
  event.target.value="";
}

// ═══ SETTINGS ═══
function openSettings(){
  document.querySelectorAll(".scr").forEach(function(s){s.classList.remove("on")});
  $("s4").classList.add("on");
  window.scrollTo(0,0);
  $("setTilePrice").value=TILE_WORK.price;
  $("setH").value=H;
  // Master profile
  $("setMasterName").value=S._masterName||"";
  $("setMasterPhone").value=S._masterPhone||"";
  $("setMasterNote").value=S._masterNote||"";
  // Render work prices
  var wh="";
  S.works.forEach(function(w,i){
    wh+='<div style="display:flex;gap:8px;align-items:center;margin-bottom:6px;padding:6px 0;border-bottom:1px solid var(--border)">'+
      '<span style="font-size:12px;flex:1;min-width:0">'+esc(w.name)+'</span>'+
      '<input class="inp-s" type="number" id="setW'+i+'" value="'+w.price+'" style="width:70px;font-size:13px;text-align:center">'+
      '<span style="font-size:11px;color:var(--dim);width:40px">'+esc(w.unit)+'</span></div>';
  });
  $("setWorksList").innerHTML=wh;
  // Render material prices
  var mh="";
  S.materials.forEach(function(m,i){
    mh+='<div style="display:flex;gap:6px;align-items:center;margin-bottom:6px;padding:6px 0;border-bottom:1px solid var(--border)">'+
      '<span style="font-size:12px;flex:1;min-width:0">'+esc(m.name)+'</span>'+
      '<input class="inp-s" type="number" id="setMp'+i+'" value="'+(m.price||0)+'" style="width:65px;font-size:13px;text-align:center" placeholder="грн">'+
      '<input class="inp-s" type="text" id="setMt'+i+'" value="'+esc(m.productTitle||"")+'" style="width:90px;font-size:11px" placeholder="товар"></div>';
  });
  $("setMatsList").innerHTML=mh;
}
function saveSettings(){
  // Save master profile
  S._masterName=($("setMasterName").value||"").trim();
  S._masterPhone=($("setMasterPhone").value||"").trim();
  S._masterNote=($("setMasterNote").value||"").trim();
  // Save tile price and height (runtime override)
  TILE_WORK.price=parseFloat($("setTilePrice").value)||TILE_WORK.price;
  H=parseFloat($("setH").value)||H;
  // Save work prices
  S.works.forEach(function(w,i){
    var inp=$("setW"+i);
    if(inp)w.price=parseFloat(inp.value)||w.price;
  });
  // Save material prices and titles
  S.materials.forEach(function(m,i){
    var pInp=$("setMp"+i);
    var tInp=$("setMt"+i);
    if(pInp){var p=parseFloat(pInp.value)||0;if(p>0)m.price=p;}
    if(tInp){var t=tInp.value.trim();if(t)m.productTitle=t;}
  });
  // Persist tile price and H in state
  S._tilePrice=TILE_WORK.price;
  S._H=H;
  saveState();
  closeSettings();
}
function closeSettings(){
  document.querySelectorAll(".scr").forEach(function(s){s.classList.remove("on")});
  $("s1").classList.add("on");
  window.scrollTo(0,0);
}

function resetAll(){
  // Save user prices and master profile before reset
  var savedPrices={};
  S.works.forEach(function(w){savedPrices["w_"+w.id]={price:w.price,name:w.name};});
  S.materials.forEach(function(m){savedPrices["m_"+m.id]={price:m.price,productTitle:m.productTitle};});
  var tp=S._tilePrice,sh=S._H;
  var mn=S._masterName,mp=S._masterPhone,mno=S._masterNote;
  // Reset to defaults
  S=defaultState();
  // Restore user prices
  S.works.forEach(function(w){var s=savedPrices["w_"+w.id];if(s&&s.price)w.price=s.price;});
  S.materials.forEach(function(m){var s=savedPrices["m_"+m.id];if(s&&s.price)m.price=s.price;if(s&&s.productTitle)m.productTitle=s.productTitle;});
  if(tp)S._tilePrice=tp;
  if(sh)S._H=sh;
  if(tp)TILE_WORK.price=tp;
  if(sh)H=sh;
  // Restore master profile
  if(mn)S._masterName=mn;
  if(mp)S._masterPhone=mp;
  if(mno)S._masterNote=mno;
  saveState();
  $("iL").value="";$("iW").value="";$("iD").value="0";$("iTW").value="1200";$("iTH").value="600";$("iTD").value="8";$("iGap").value="2";updGeo();go(1);
}

// Reset session state on fresh app open (not swipe-resume)
function resetSessionState(){
  // Reset work enabled flags and manual qty to defaults (prices preserved!)
  S.works.forEach(function(w){
    var base=BASE_WORKS.find(function(b){return b.id===w.id;});
    w.enabled=base?base.enabled:false;
    if(w.type==="manual")w.qty=0;
  });
  // Reset material enabled/manualOn to defaults (prices preserved!)
  S.materials.forEach(function(m){
    var base=BASE_MATS.find(function(b){return b.id===m.id;});
    m.enabled=base?base.enabled:true;
    m.manualOn=false;
  });
  saveState();
}

loadState();

// Session check: detect fresh app open (tab closed >30sec ago = new session)
(function(){
  var now=Date.now();
  var lastActive=parseInt(localStorage.getItem("tilecalc_lastActive")||"0");
  var isNew=!lastActive||(now-lastActive>30000);
  if(isNew){
    resetSessionState();
    $("iL").value="";$("iW").value="";$("iD").value="0";
  }
  // Update timestamp on every interaction
  function touch(){localStorage.setItem("tilecalc_lastActive",String(Date.now()));}
  touch();
  document.addEventListener("visibilitychange",function(){if(!document.hidden)touch();});
  setInterval(touch,10000);
})();

// Back button: navigate steps instead of closing app
var curStep=1;
var _origGo=go;
go=function(n){curStep=n;history.pushState({step:n},"","");_origGo(n);};
window.addEventListener("popstate",function(e){
  if(e.state&&e.state.step){curStep=e.state.step;_origGo(curStep);}
  else if(curStep>1){curStep--;history.pushState({step:curStep},"","");_origGo(curStep);}
  else{history.pushState({step:1},"","");}
});
history.replaceState({step:1},"","");

$("iL").addEventListener("input",updGeo);$("iW").addEventListener("input",updGeo);$("iD").addEventListener("input",updGeo);$("iTW").addEventListener("input",updGeo);$("iTH").addEventListener("input",updGeo);$("iTD").addEventListener("input",updGeo);$("iGap").addEventListener("input",updGeo);updGeo();renderHistory();
</script>
<script>if('serviceWorker' in navigator)navigator.serviceWorker.register('sw.js');</script>
</body>
</html>
